openapi: 3.1.0
info:
  title: SQLite Server API
  description: |
    Production-ready gRPC/HTTP bridge for SQLite databases.
    
    ## Authentication
    Most endpoints require authentication via Bearer token (API Key) or Basic Auth.
    
    **To authenticate:**
    1. Use the /sqlrpc.v1.AdminService/Login endpoint with username/password
    2. Copy the apiKey from the response
    3. Click "Authorize" above and enter your API key
    
    **Format:** Bearer sk_... (include the Bearer prefix)
  version: "1.0.0"
  contact:
    name: SQLite Server
security:
  - bearerAuth: []
  - basicAuth: []
paths:
  /sqlrpc.v1.AdminService/CreateApiKey:
    post:
      tags:
        - sqlrpc.v1.AdminService
      summary: CreateApiKey
      operationId: sqlrpc.v1.AdminService.CreateApiKey
      parameters:
        - name: Connect-Protocol-Version
          in: header
          required: true
          schema:
            $ref: '#/components/schemas/connect-protocol-version'
        - name: Connect-Timeout-Ms
          in: header
          schema:
            $ref: '#/components/schemas/connect-timeout-header'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/sqlrpc.v1.CreateApiKeyRequest'
        required: true
      responses:
        default:
          description: Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/connect.error'
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/sqlrpc.v1.CreateApiKeyResponse'
  /sqlrpc.v1.AdminService/CreateDatabase:
    post:
      tags:
        - sqlrpc.v1.AdminService
      summary: '*  Retrieves or modifies tenant data depending on user role permissions *(  RO vs RW)'
      description: |-
        *
         Retrieves or modifies tenant data depending on user role permissions *(
         RO vs RW)
      operationId: sqlrpc.v1.AdminService.CreateDatabase
      parameters:
        - name: Connect-Protocol-Version
          in: header
          required: true
          schema:
            $ref: '#/components/schemas/connect-protocol-version'
        - name: Connect-Timeout-Ms
          in: header
          schema:
            $ref: '#/components/schemas/connect-timeout-header'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/sqlrpc.v1.CreateDatabaseRequest'
        required: true
      responses:
        default:
          description: Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/connect.error'
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/sqlrpc.v1.CreateDatabaseResponse'
  /sqlrpc.v1.AdminService/CreateUser:
    post:
      tags:
        - sqlrpc.v1.AdminService
      summary: CreateUser
      operationId: sqlrpc.v1.AdminService.CreateUser
      parameters:
        - name: Connect-Protocol-Version
          in: header
          required: true
          schema:
            $ref: '#/components/schemas/connect-protocol-version'
        - name: Connect-Timeout-Ms
          in: header
          schema:
            $ref: '#/components/schemas/connect-timeout-header'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/sqlrpc.v1.CreateUserRequest'
        required: true
      responses:
        default:
          description: Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/connect.error'
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/sqlrpc.v1.CreateUserResponse'
  /sqlrpc.v1.AdminService/DeleteDatabase:
    post:
      tags:
        - sqlrpc.v1.AdminService
      summary: DeleteDatabase
      operationId: sqlrpc.v1.AdminService.DeleteDatabase
      parameters:
        - name: Connect-Protocol-Version
          in: header
          required: true
          schema:
            $ref: '#/components/schemas/connect-protocol-version'
        - name: Connect-Timeout-Ms
          in: header
          schema:
            $ref: '#/components/schemas/connect-timeout-header'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/sqlrpc.v1.DeleteDatabaseRequest'
        required: true
      responses:
        default:
          description: Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/connect.error'
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/sqlrpc.v1.DeleteDatabaseResponse'
  /sqlrpc.v1.AdminService/DeleteUser:
    post:
      tags:
        - sqlrpc.v1.AdminService
      summary: DeleteUser
      operationId: sqlrpc.v1.AdminService.DeleteUser
      parameters:
        - name: Connect-Protocol-Version
          in: header
          required: true
          schema:
            $ref: '#/components/schemas/connect-protocol-version'
        - name: Connect-Timeout-Ms
          in: header
          schema:
            $ref: '#/components/schemas/connect-timeout-header'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/sqlrpc.v1.DeleteUserRequest'
        required: true
      responses:
        default:
          description: Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/connect.error'
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/sqlrpc.v1.DeleteUserResponse'
  /sqlrpc.v1.AdminService/GetServerInfo:
    post:
      tags:
        - sqlrpc.v1.AdminService
      summary: GetServerInfo
      operationId: sqlrpc.v1.AdminService.GetServerInfo
      parameters:
        - name: Connect-Protocol-Version
          in: header
          required: true
          schema:
            $ref: '#/components/schemas/connect-protocol-version'
        - name: Connect-Timeout-Ms
          in: header
          schema:
            $ref: '#/components/schemas/connect-timeout-header'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/sqlrpc.v1.GetServerInfoRequest'
        required: true
      responses:
        default:
          description: Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/connect.error'
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/sqlrpc.v1.GetServerInfoResponse'
  /sqlrpc.v1.AdminService/ListApiKeys:
    post:
      tags:
        - sqlrpc.v1.AdminService
      summary: ListApiKeys
      operationId: sqlrpc.v1.AdminService.ListApiKeys
      parameters:
        - name: Connect-Protocol-Version
          in: header
          required: true
          schema:
            $ref: '#/components/schemas/connect-protocol-version'
        - name: Connect-Timeout-Ms
          in: header
          schema:
            $ref: '#/components/schemas/connect-timeout-header'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/sqlrpc.v1.ListApiKeysRequest'
        required: true
      responses:
        default:
          description: Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/connect.error'
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/sqlrpc.v1.ListApiKeysResponse'
  /sqlrpc.v1.AdminService/ListDatabases:
    post:
      tags:
        - sqlrpc.v1.AdminService
      summary: ListDatabases
      operationId: sqlrpc.v1.AdminService.ListDatabases
      parameters:
        - name: Connect-Protocol-Version
          in: header
          required: true
          schema:
            $ref: '#/components/schemas/connect-protocol-version'
        - name: Connect-Timeout-Ms
          in: header
          schema:
            $ref: '#/components/schemas/connect-timeout-header'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/sqlrpc.v1.ListDatabasesRequest'
        required: true
      responses:
        default:
          description: Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/connect.error'
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/sqlrpc.v1.ListDatabasesResponse'
  /sqlrpc.v1.AdminService/ListUsers:
    post:
      tags:
        - sqlrpc.v1.AdminService
      summary: ListUsers
      operationId: sqlrpc.v1.AdminService.ListUsers
      parameters:
        - name: Connect-Protocol-Version
          in: header
          required: true
          schema:
            $ref: '#/components/schemas/connect-protocol-version'
        - name: Connect-Timeout-Ms
          in: header
          schema:
            $ref: '#/components/schemas/connect-timeout-header'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/sqlrpc.v1.ListUsersRequest'
        required: true
      responses:
        default:
          description: Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/connect.error'
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/sqlrpc.v1.ListUsersResponse'
  /sqlrpc.v1.AdminService/Login:
    post:
      tags:
        - sqlrpc.v1.AdminService
      summary: Login
      operationId: sqlrpc.v1.AdminService.Login
      parameters:
        - name: Connect-Protocol-Version
          in: header
          required: true
          schema:
            $ref: '#/components/schemas/connect-protocol-version'
        - name: Connect-Timeout-Ms
          in: header
          schema:
            $ref: '#/components/schemas/connect-timeout-header'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/sqlrpc.v1.LoginRequest'
        required: true
      responses:
        default:
          description: Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/connect.error'
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/sqlrpc.v1.LoginResponse'
  /sqlrpc.v1.AdminService/Logout:
    post:
      tags:
        - sqlrpc.v1.AdminService
      summary: Logout
      operationId: sqlrpc.v1.AdminService.Logout
      parameters:
        - name: Connect-Protocol-Version
          in: header
          required: true
          schema:
            $ref: '#/components/schemas/connect-protocol-version'
        - name: Connect-Timeout-Ms
          in: header
          schema:
            $ref: '#/components/schemas/connect-timeout-header'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/sqlrpc.v1.LogoutRequest'
        required: true
      responses:
        default:
          description: Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/connect.error'
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/sqlrpc.v1.LogoutResponse'
  /sqlrpc.v1.AdminService/MountDatabase:
    post:
      tags:
        - sqlrpc.v1.AdminService
      summary: buf:lint:ignore RPC_REQUEST_STANDARD_NAME
      description: buf:lint:ignore RPC_REQUEST_STANDARD_NAME
      operationId: sqlrpc.v1.AdminService.MountDatabase
      parameters:
        - name: Connect-Protocol-Version
          in: header
          required: true
          schema:
            $ref: '#/components/schemas/connect-protocol-version'
        - name: Connect-Timeout-Ms
          in: header
          schema:
            $ref: '#/components/schemas/connect-timeout-header'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/sqlrpc.v1.DatabaseConfig'
        required: true
      responses:
        default:
          description: Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/connect.error'
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/sqlrpc.v1.MountDatabaseResponse'
  /sqlrpc.v1.AdminService/RevokeApiKey:
    post:
      tags:
        - sqlrpc.v1.AdminService
      summary: RevokeApiKey
      operationId: sqlrpc.v1.AdminService.RevokeApiKey
      parameters:
        - name: Connect-Protocol-Version
          in: header
          required: true
          schema:
            $ref: '#/components/schemas/connect-protocol-version'
        - name: Connect-Timeout-Ms
          in: header
          schema:
            $ref: '#/components/schemas/connect-timeout-header'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/sqlrpc.v1.RevokeApiKeyRequest'
        required: true
      responses:
        default:
          description: Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/connect.error'
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/sqlrpc.v1.RevokeApiKeyResponse'
  /sqlrpc.v1.AdminService/UnMountDatabase:
    post:
      tags:
        - sqlrpc.v1.AdminService
      summary: UnMountDatabase
      operationId: sqlrpc.v1.AdminService.UnMountDatabase
      parameters:
        - name: Connect-Protocol-Version
          in: header
          required: true
          schema:
            $ref: '#/components/schemas/connect-protocol-version'
        - name: Connect-Timeout-Ms
          in: header
          schema:
            $ref: '#/components/schemas/connect-timeout-header'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/sqlrpc.v1.UnMountDatabaseRequest'
        required: true
      responses:
        default:
          description: Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/connect.error'
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/sqlrpc.v1.UnMountDatabaseResponse'
  /sqlrpc.v1.AdminService/UpdateDatabase:
    post:
      tags:
        - sqlrpc.v1.AdminService
      summary: UpdateDatabase
      operationId: sqlrpc.v1.AdminService.UpdateDatabase
      parameters:
        - name: Connect-Protocol-Version
          in: header
          required: true
          schema:
            $ref: '#/components/schemas/connect-protocol-version'
        - name: Connect-Timeout-Ms
          in: header
          schema:
            $ref: '#/components/schemas/connect-timeout-header'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/sqlrpc.v1.UpdateDatabaseRequest'
        required: true
      responses:
        default:
          description: Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/connect.error'
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/sqlrpc.v1.UpdateDatabaseResponse'
  /sqlrpc.v1.AdminService/UpdatePassword:
    post:
      tags:
        - sqlrpc.v1.AdminService
      summary: UpdatePassword
      operationId: sqlrpc.v1.AdminService.UpdatePassword
      parameters:
        - name: Connect-Protocol-Version
          in: header
          required: true
          schema:
            $ref: '#/components/schemas/connect-protocol-version'
        - name: Connect-Timeout-Ms
          in: header
          schema:
            $ref: '#/components/schemas/connect-timeout-header'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/sqlrpc.v1.UpdatePasswordRequest'
        required: true
      responses:
        default:
          description: Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/connect.error'
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/sqlrpc.v1.UpdatePasswordResponse'
  /sqlrpc.v1.AdminService/UpdateUserRole:
    post:
      tags:
        - sqlrpc.v1.AdminService
      summary: UpdateUserRole
      operationId: sqlrpc.v1.AdminService.UpdateUserRole
      parameters:
        - name: Connect-Protocol-Version
          in: header
          required: true
          schema:
            $ref: '#/components/schemas/connect-protocol-version'
        - name: Connect-Timeout-Ms
          in: header
          schema:
            $ref: '#/components/schemas/connect-timeout-header'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/sqlrpc.v1.UpdateUserRoleRequest'
        required: true
      responses:
        default:
          description: Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/connect.error'
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/sqlrpc.v1.UpdateUserRoleResponse'
  /sqlrpc.v1.DatabaseService/AttachDatabase:
    post:
      tags:
        - sqlrpc.v1.DatabaseService
      summary: AttachDatabase
      operationId: sqlrpc.v1.DatabaseService.AttachDatabase
      parameters:
        - name: Connect-Protocol-Version
          in: header
          required: true
          schema:
            $ref: '#/components/schemas/connect-protocol-version'
        - name: Connect-Timeout-Ms
          in: header
          schema:
            $ref: '#/components/schemas/connect-timeout-header'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/sqlrpc.v1.AttachDatabaseRequest'
        required: true
      responses:
        default:
          description: Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/connect.error'
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/sqlrpc.v1.AttachDatabaseResponse'
  /sqlrpc.v1.DatabaseService/BeginTransaction:
    post:
      tags:
        - sqlrpc.v1.DatabaseService
      summary: '*  DBaaS Transaction Control.  Acquires an active connection from the global shared LRU pool based on the  user''s role (RO vs RW).'
      description: |-
        *
         DBaaS Transaction Control.
         Acquires an active connection from the global shared LRU pool based on the
         user's role (RO vs RW).
      operationId: sqlrpc.v1.DatabaseService.BeginTransaction
      parameters:
        - name: Connect-Protocol-Version
          in: header
          required: true
          schema:
            $ref: '#/components/schemas/connect-protocol-version'
        - name: Connect-Timeout-Ms
          in: header
          schema:
            $ref: '#/components/schemas/connect-timeout-header'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/sqlrpc.v1.BeginTransactionRequest'
        required: true
      responses:
        default:
          description: Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/connect.error'
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/sqlrpc.v1.BeginTransactionResponse'
  /sqlrpc.v1.DatabaseService/Checkpoint:
    post:
      tags:
        - sqlrpc.v1.DatabaseService
      summary: Checkpoint
      operationId: sqlrpc.v1.DatabaseService.Checkpoint
      parameters:
        - name: Connect-Protocol-Version
          in: header
          required: true
          schema:
            $ref: '#/components/schemas/connect-protocol-version'
        - name: Connect-Timeout-Ms
          in: header
          schema:
            $ref: '#/components/schemas/connect-timeout-header'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/sqlrpc.v1.CheckpointRequest'
        required: true
      responses:
        default:
          description: Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/connect.error'
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/sqlrpc.v1.CheckpointResponse'
  /sqlrpc.v1.DatabaseService/CommitTransaction:
    post:
      tags:
        - sqlrpc.v1.DatabaseService
      summary: CommitTransaction
      operationId: sqlrpc.v1.DatabaseService.CommitTransaction
      parameters:
        - name: Connect-Protocol-Version
          in: header
          required: true
          schema:
            $ref: '#/components/schemas/connect-protocol-version'
        - name: Connect-Timeout-Ms
          in: header
          schema:
            $ref: '#/components/schemas/connect-timeout-header'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/sqlrpc.v1.TransactionControlRequest'
        required: true
      responses:
        default:
          description: Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/connect.error'
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/sqlrpc.v1.TransactionControlResponse'
  /sqlrpc.v1.DatabaseService/DetachDatabase:
    post:
      tags:
        - sqlrpc.v1.DatabaseService
      summary: DetachDatabase
      operationId: sqlrpc.v1.DatabaseService.DetachDatabase
      parameters:
        - name: Connect-Protocol-Version
          in: header
          required: true
          schema:
            $ref: '#/components/schemas/connect-protocol-version'
        - name: Connect-Timeout-Ms
          in: header
          schema:
            $ref: '#/components/schemas/connect-timeout-header'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/sqlrpc.v1.DetachDatabaseRequest'
        required: true
      responses:
        default:
          description: Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/connect.error'
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/sqlrpc.v1.DetachDatabaseResponse'
  /sqlrpc.v1.DatabaseService/Exec:
    post:
      tags:
        - sqlrpc.v1.DatabaseService
      summary: '*  DBaaS Write Endpoint (Unary DML).  Uses the global shared LRU connection pool, strictly routing to a  Read-Write connection. Denied for ROLE_READ_ONLY.'
      description: |-
        *
         DBaaS Write Endpoint (Unary DML).
         Uses the global shared LRU connection pool, strictly routing to a
         Read-Write connection. Denied for ROLE_READ_ONLY.
      operationId: sqlrpc.v1.DatabaseService.Exec
      parameters:
        - name: Connect-Protocol-Version
          in: header
          required: true
          schema:
            $ref: '#/components/schemas/connect-protocol-version'
        - name: Connect-Timeout-Ms
          in: header
          schema:
            $ref: '#/components/schemas/connect-timeout-header'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/sqlrpc.v1.QueryRequest'
        required: true
      responses:
        default:
          description: Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/connect.error'
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/sqlrpc.v1.ExecResponse'
  /sqlrpc.v1.DatabaseService/ExecuteTransaction:
    post:
      tags:
        - sqlrpc.v1.DatabaseService
      summary: ExecuteTransaction
      operationId: sqlrpc.v1.DatabaseService.ExecuteTransaction
      parameters:
        - name: Connect-Protocol-Version
          in: header
          required: true
          schema:
            $ref: '#/components/schemas/connect-protocol-version'
        - name: Connect-Timeout-Ms
          in: header
          schema:
            $ref: '#/components/schemas/connect-timeout-header'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/sqlrpc.v1.ExecuteTransactionRequest'
        required: true
      responses:
        default:
          description: Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/connect.error'
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/sqlrpc.v1.ExecuteTransactionResponse'
  /sqlrpc.v1.DatabaseService/Explain:
    post:
      tags:
        - sqlrpc.v1.DatabaseService
      summary: Explain
      operationId: sqlrpc.v1.DatabaseService.Explain
      parameters:
        - name: Connect-Protocol-Version
          in: header
          required: true
          schema:
            $ref: '#/components/schemas/connect-protocol-version'
        - name: Connect-Timeout-Ms
          in: header
          schema:
            $ref: '#/components/schemas/connect-timeout-header'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/sqlrpc.v1.QueryRequest'
        required: true
      responses:
        default:
          description: Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/connect.error'
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/sqlrpc.v1.ExplainResponse'
  /sqlrpc.v1.DatabaseService/GetDatabaseSchema:
    post:
      tags:
        - sqlrpc.v1.DatabaseService
      summary: GetDatabaseSchema
      operationId: sqlrpc.v1.DatabaseService.GetDatabaseSchema
      parameters:
        - name: Connect-Protocol-Version
          in: header
          required: true
          schema:
            $ref: '#/components/schemas/connect-protocol-version'
        - name: Connect-Timeout-Ms
          in: header
          schema:
            $ref: '#/components/schemas/connect-timeout-header'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/sqlrpc.v1.GetDatabaseSchemaRequest'
        required: true
      responses:
        default:
          description: Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/connect.error'
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/sqlrpc.v1.DatabaseSchema'
  /sqlrpc.v1.DatabaseService/GetTableSchema:
    post:
      tags:
        - sqlrpc.v1.DatabaseService
      summary: GetTableSchema
      operationId: sqlrpc.v1.DatabaseService.GetTableSchema
      parameters:
        - name: Connect-Protocol-Version
          in: header
          required: true
          schema:
            $ref: '#/components/schemas/connect-protocol-version'
        - name: Connect-Timeout-Ms
          in: header
          schema:
            $ref: '#/components/schemas/connect-timeout-header'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/sqlrpc.v1.GetTableSchemaRequest'
        required: true
      responses:
        default:
          description: Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/connect.error'
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/sqlrpc.v1.TableSchema'
  /sqlrpc.v1.DatabaseService/IntegrityCheck:
    post:
      tags:
        - sqlrpc.v1.DatabaseService
      summary: IntegrityCheck
      operationId: sqlrpc.v1.DatabaseService.IntegrityCheck
      parameters:
        - name: Connect-Protocol-Version
          in: header
          required: true
          schema:
            $ref: '#/components/schemas/connect-protocol-version'
        - name: Connect-Timeout-Ms
          in: header
          schema:
            $ref: '#/components/schemas/connect-timeout-header'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/sqlrpc.v1.IntegrityCheckRequest'
        required: true
      responses:
        default:
          description: Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/connect.error'
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/sqlrpc.v1.IntegrityCheckResponse'
  /sqlrpc.v1.DatabaseService/ListExtensions:
    post:
      tags:
        - sqlrpc.v1.DatabaseService
      summary: ListExtensions
      operationId: sqlrpc.v1.DatabaseService.ListExtensions
      parameters:
        - name: Connect-Protocol-Version
          in: header
          required: true
          schema:
            $ref: '#/components/schemas/connect-protocol-version'
        - name: Connect-Timeout-Ms
          in: header
          schema:
            $ref: '#/components/schemas/connect-timeout-header'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/sqlrpc.v1.ListExtensionsRequest'
        required: true
      responses:
        default:
          description: Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/connect.error'
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/sqlrpc.v1.ListExtensionsResponse'
  /sqlrpc.v1.DatabaseService/ListTables:
    post:
      tags:
        - sqlrpc.v1.DatabaseService
      summary: ListTables
      operationId: sqlrpc.v1.DatabaseService.ListTables
      parameters:
        - name: Connect-Protocol-Version
          in: header
          required: true
          schema:
            $ref: '#/components/schemas/connect-protocol-version'
        - name: Connect-Timeout-Ms
          in: header
          schema:
            $ref: '#/components/schemas/connect-timeout-header'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/sqlrpc.v1.ListTablesRequest'
        required: true
      responses:
        default:
          description: Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/connect.error'
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/sqlrpc.v1.ListTablesResponse'
  /sqlrpc.v1.DatabaseService/LoadExtension:
    post:
      tags:
        - sqlrpc.v1.DatabaseService
      summary: LoadExtension
      operationId: sqlrpc.v1.DatabaseService.LoadExtension
      parameters:
        - name: Connect-Protocol-Version
          in: header
          required: true
          schema:
            $ref: '#/components/schemas/connect-protocol-version'
        - name: Connect-Timeout-Ms
          in: header
          schema:
            $ref: '#/components/schemas/connect-timeout-header'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/sqlrpc.v1.LoadExtensionRequest'
        required: true
      responses:
        default:
          description: Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/connect.error'
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/sqlrpc.v1.LoadExtensionResponse'
  /sqlrpc.v1.DatabaseService/Query:
    post:
      tags:
        - sqlrpc.v1.DatabaseService
      summary: '*  DBaaS Read Endpoint (Unary).  Uses the global shared LRU connection pool, routing to a Read-Only  connection for ROLE_READ_ONLY users.'
      description: |-
        *
         DBaaS Read Endpoint (Unary).
         Uses the global shared LRU connection pool, routing to a Read-Only
         connection for ROLE_READ_ONLY users.
      operationId: sqlrpc.v1.DatabaseService.Query
      parameters:
        - name: Connect-Protocol-Version
          in: header
          required: true
          schema:
            $ref: '#/components/schemas/connect-protocol-version'
        - name: Connect-Timeout-Ms
          in: header
          schema:
            $ref: '#/components/schemas/connect-timeout-header'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/sqlrpc.v1.QueryRequest'
        required: true
      responses:
        default:
          description: Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/connect.error'
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/sqlrpc.v1.QueryResult'
  /sqlrpc.v1.DatabaseService/QueryStream: {}
  /sqlrpc.v1.DatabaseService/RollbackTransaction:
    post:
      tags:
        - sqlrpc.v1.DatabaseService
      summary: RollbackTransaction
      operationId: sqlrpc.v1.DatabaseService.RollbackTransaction
      parameters:
        - name: Connect-Protocol-Version
          in: header
          required: true
          schema:
            $ref: '#/components/schemas/connect-protocol-version'
        - name: Connect-Timeout-Ms
          in: header
          schema:
            $ref: '#/components/schemas/connect-timeout-header'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/sqlrpc.v1.TransactionControlRequest'
        required: true
      responses:
        default:
          description: Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/connect.error'
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/sqlrpc.v1.TransactionControlResponse'
  /sqlrpc.v1.DatabaseService/Transaction: {}
  /sqlrpc.v1.DatabaseService/TransactionExec:
    post:
      tags:
        - sqlrpc.v1.DatabaseService
      summary: '*  DBaaS Write Endpoint within a Transaction.  Fails if the underlying transaction connection is Read-Only.'
      description: |-
        *
         DBaaS Write Endpoint within a Transaction.
         Fails if the underlying transaction connection is Read-Only.
      operationId: sqlrpc.v1.DatabaseService.TransactionExec
      parameters:
        - name: Connect-Protocol-Version
          in: header
          required: true
          schema:
            $ref: '#/components/schemas/connect-protocol-version'
        - name: Connect-Timeout-Ms
          in: header
          schema:
            $ref: '#/components/schemas/connect-timeout-header'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/sqlrpc.v1.TransactionQueryRequest'
        required: true
      responses:
        default:
          description: Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/connect.error'
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/sqlrpc.v1.ExecResponse'
  /sqlrpc.v1.DatabaseService/TransactionQuery:
    post:
      tags:
        - sqlrpc.v1.DatabaseService
      summary: '*  DBaaS Read Endpoint within a Transaction.  Inherits the active transaction context tied to the shared LRU connection  pool.'
      description: |-
        *
         DBaaS Read Endpoint within a Transaction.
         Inherits the active transaction context tied to the shared LRU connection
         pool.
      operationId: sqlrpc.v1.DatabaseService.TransactionQuery
      parameters:
        - name: Connect-Protocol-Version
          in: header
          required: true
          schema:
            $ref: '#/components/schemas/connect-protocol-version'
        - name: Connect-Timeout-Ms
          in: header
          schema:
            $ref: '#/components/schemas/connect-timeout-header'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/sqlrpc.v1.TransactionQueryRequest'
        required: true
      responses:
        default:
          description: Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/connect.error'
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/sqlrpc.v1.QueryResult'
  /sqlrpc.v1.DatabaseService/TransactionQueryStream: {}
  /sqlrpc.v1.DatabaseService/TransactionSavepoint:
    post:
      tags:
        - sqlrpc.v1.DatabaseService
      summary: TransactionSavepoint
      operationId: sqlrpc.v1.DatabaseService.TransactionSavepoint
      parameters:
        - name: Connect-Protocol-Version
          in: header
          required: true
          schema:
            $ref: '#/components/schemas/connect-protocol-version'
        - name: Connect-Timeout-Ms
          in: header
          schema:
            $ref: '#/components/schemas/connect-timeout-header'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/sqlrpc.v1.TransactionSavepointRequest'
        required: true
      responses:
        default:
          description: Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/connect.error'
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/sqlrpc.v1.SavepointResponse'
  /sqlrpc.v1.DatabaseService/TypedExec:
    post:
      tags:
        - sqlrpc.v1.DatabaseService
      summary: '*  DBaaS Typed Write Endpoint (Unary DML).  Uses the global shared LRU connection pool, strictly routing to a  Read-Write connection.'
      description: |-
        *
         DBaaS Typed Write Endpoint (Unary DML).
         Uses the global shared LRU connection pool, strictly routing to a
         Read-Write connection.
      operationId: sqlrpc.v1.DatabaseService.TypedExec
      parameters:
        - name: Connect-Protocol-Version
          in: header
          required: true
          schema:
            $ref: '#/components/schemas/connect-protocol-version'
        - name: Connect-Timeout-Ms
          in: header
          schema:
            $ref: '#/components/schemas/connect-timeout-header'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/sqlrpc.v1.TypedQueryRequest'
        required: true
      responses:
        default:
          description: Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/connect.error'
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/sqlrpc.v1.ExecResponse'
  /sqlrpc.v1.DatabaseService/TypedExplain:
    post:
      tags:
        - sqlrpc.v1.DatabaseService
      summary: TypedExplain
      operationId: sqlrpc.v1.DatabaseService.TypedExplain
      parameters:
        - name: Connect-Protocol-Version
          in: header
          required: true
          schema:
            $ref: '#/components/schemas/connect-protocol-version'
        - name: Connect-Timeout-Ms
          in: header
          schema:
            $ref: '#/components/schemas/connect-timeout-header'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/sqlrpc.v1.TypedQueryRequest'
        required: true
      responses:
        default:
          description: Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/connect.error'
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/sqlrpc.v1.ExplainResponse'
  /sqlrpc.v1.DatabaseService/TypedQuery:
    post:
      tags:
        - sqlrpc.v1.DatabaseService
      summary: '*  DBaaS Typed Read Endpoint (Unary).  Automatically routed to a Read-Only replica connection for ROLE_READ_ONLY users.'
      description: |-
        *
         DBaaS Typed Read Endpoint (Unary).
         Automatically routed to a Read-Only replica connection for ROLE_READ_ONLY
        users.
      operationId: sqlrpc.v1.DatabaseService.TypedQuery
      parameters:
        - name: Connect-Protocol-Version
          in: header
          required: true
          schema:
            $ref: '#/components/schemas/connect-protocol-version'
        - name: Connect-Timeout-Ms
          in: header
          schema:
            $ref: '#/components/schemas/connect-timeout-header'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/sqlrpc.v1.TypedQueryRequest'
        required: true
      responses:
        default:
          description: Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/connect.error'
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/sqlrpc.v1.TypedQueryResult'
  /sqlrpc.v1.DatabaseService/TypedQueryStream: {}
  /sqlrpc.v1.DatabaseService/TypedTransactionExec:
    post:
      tags:
        - sqlrpc.v1.DatabaseService
      summary: '*  DBaaS Typed Write Endpoint within a Transaction.  Denied on Read-Only transactions.'
      description: |-
        *
         DBaaS Typed Write Endpoint within a Transaction.
         Denied on Read-Only transactions.
      operationId: sqlrpc.v1.DatabaseService.TypedTransactionExec
      parameters:
        - name: Connect-Protocol-Version
          in: header
          required: true
          schema:
            $ref: '#/components/schemas/connect-protocol-version'
        - name: Connect-Timeout-Ms
          in: header
          schema:
            $ref: '#/components/schemas/connect-timeout-header'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/sqlrpc.v1.TypedTransactionQueryRequest'
        required: true
      responses:
        default:
          description: Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/connect.error'
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/sqlrpc.v1.ExecResponse'
  /sqlrpc.v1.DatabaseService/TypedTransactionQuery:
    post:
      tags:
        - sqlrpc.v1.DatabaseService
      summary: '*  DBaaS Typed Read Endpoint within a Transaction.'
      description: |-
        *
         DBaaS Typed Read Endpoint within a Transaction.
      operationId: sqlrpc.v1.DatabaseService.TypedTransactionQuery
      parameters:
        - name: Connect-Protocol-Version
          in: header
          required: true
          schema:
            $ref: '#/components/schemas/connect-protocol-version'
        - name: Connect-Timeout-Ms
          in: header
          schema:
            $ref: '#/components/schemas/connect-timeout-header'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/sqlrpc.v1.TypedTransactionQueryRequest'
        required: true
      responses:
        default:
          description: Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/connect.error'
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/sqlrpc.v1.TypedQueryResult'
  /sqlrpc.v1.DatabaseService/TypedTransactionQueryStream: {}
  /sqlrpc.v1.DatabaseService/Vacuum:
    post:
      tags:
        - sqlrpc.v1.DatabaseService
      summary: Vacuum
      operationId: sqlrpc.v1.DatabaseService.Vacuum
      parameters:
        - name: Connect-Protocol-Version
          in: header
          required: true
          schema:
            $ref: '#/components/schemas/connect-protocol-version'
        - name: Connect-Timeout-Ms
          in: header
          schema:
            $ref: '#/components/schemas/connect-timeout-header'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/sqlrpc.v1.VacuumRequest'
        required: true
      responses:
        default:
          description: Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/connect.error'
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/sqlrpc.v1.VacuumResponse'
components:
  securitySchemes:
    bearerAuth:
      type: http
      scheme: bearer
      bearerFormat: API Key
      description: "API Key obtained from Login endpoint (format: sk_...)"
    basicAuth:
      type: http
      scheme: basic
      description: "Username and password for initial authentication"
  schemas:
    connect-protocol-version:
      type: number
      title: Connect-Protocol-Version
      enum:
        - 1
      description: Define the version of the Connect protocol
      const: 1
    connect-timeout-header:
      type: number
      title: Connect-Timeout-Ms
      description: Define the timeout, in ms
    connect.error:
      type: object
      properties:
        code:
          type: string
          examples:
            - not_found
          enum:
            - canceled
            - unknown
            - invalid_argument
            - deadline_exceeded
            - not_found
            - already_exists
            - permission_denied
            - resource_exhausted
            - failed_precondition
            - aborted
            - out_of_range
            - unimplemented
            - internal
            - unavailable
            - data_loss
            - unauthenticated
          description: The status code, which should be an enum value of [google.rpc.Code][google.rpc.Code].
        message:
          type: string
          description: A developer-facing error message, which should be in English. Any user-facing error message should be localized and sent in the [google.rpc.Status.details][google.rpc.Status.details] field, or localized by the client.
        details:
          type: array
          items:
            $ref: '#/components/schemas/connect.error_details.Any'
          description: A list of messages that carry the error details. There is no limit on the number of messages.
      title: Connect Error
      additionalProperties: true
      description: 'Error type returned by Connect: https://connectrpc.com/docs/go/errors/#http-representation'
    connect.error_details.Any:
      type: object
      properties:
        type:
          type: string
          description: 'A URL that acts as a globally unique identifier for the type of the serialized message. For example: `type.googleapis.com/google.rpc.ErrorInfo`. This is used to determine the schema of the data in the `value` field and is the discriminator for the `debug` field.'
        value:
          type: string
          format: binary
          description: The Protobuf message, serialized as bytes and base64-encoded. The specific message type is identified by the `type` field.
        debug:
          oneOf:
            - type: object
              title: Any
              additionalProperties: true
              description: Detailed error information.
          discriminator:
            propertyName: type
          title: Debug
          description: Deserialized error detail payload. The 'type' field indicates the schema. This field is for easier debugging and should not be relied upon for application logic.
      additionalProperties: true
      description: Contains an arbitrary serialized message along with a @type that describes the type of the serialized message, with an additional debug field for ConnectRPC error details.
    sqlrpc.v1.AttachDatabaseRequest:
      type: object
      properties:
        parentDatabase:
          type: string
          title: parent_database
          maxLength: 64
          minLength: 3
          pattern: ^[a-zA-Z0-9_-]+$
        attachment:
          title: attachment
          $ref: '#/components/schemas/sqlrpc.v1.Attachment'
      title: AttachDatabaseRequest
      required:
        - attachment
      additionalProperties: false
      description: |-
        Payload to attach a secondary database to a parent connection dynamically.
         Enables multi-database JOIN operations within the constraints of the DBaaS platform.
    sqlrpc.v1.AttachDatabaseResponse:
      type: object
      properties:
        success:
          type: boolean
          title: success
        message:
          type: string
          title: message
      title: AttachDatabaseResponse
      additionalProperties: false
      description: Confirms the successful attachment of the secondary database.
    sqlrpc.v1.Attachment:
      type: object
      properties:
        targetDatabaseName:
          type: string
          title: target_database_name
          maxLength: 64
          minLength: 3
          pattern: ^[a-zA-Z0-9_-]+$
        alias:
          type: string
          title: alias
          maxLength: 64
          minLength: 1
          pattern: ^[a-zA-Z0-9_-]+$
      title: Attachment
      additionalProperties: false
      description: |-
        Configuration for safely attaching a secondary database to a primary connection.
         Allows cross-database queries between isolated tenant files using a designated alias.
    sqlrpc.v1.AttachmentList:
      type: object
      properties:
        values:
          type: array
          items:
            $ref: '#/components/schemas/sqlrpc.v1.Attachment'
          title: values
      title: AttachmentList
      additionalProperties: false
      description: A collection of database attachments to bind to the connection.
    sqlrpc.v1.BackupDatabaseRequest:
      type: object
      properties:
        database:
          type: string
          title: database
          pattern: ^$|^[a-zA-Z0-9_-]{3,64}$
          description: Tenant target identifier for DBaaS connection routing.
      title: BackupDatabaseRequest
      additionalProperties: false
      description: |-
        Payload to initiate a streaming backup of a database.
         Relies on the SQLite backup API to safely copy data without locking out writers.
    sqlrpc.v1.BackupDatabaseResponse:
      type: object
      properties:
        chunk:
          type: string
          title: chunk
          maxLength: 4194304
          format: byte
          description: |
            bytes.const = []
      title: BackupDatabaseResponse
      additionalProperties: false
      description: |-
        A chunk of the streaming database backup.
         Clients stitch these byte chunks together to reconstruct the SQLite database file.
    sqlrpc.v1.BeginRequest:
      type: object
      properties:
        database:
          type: string
          title: database
          maxLength: 64
          minLength: 3
          pattern: ^[a-zA-Z0-9_-]+$
          description: Tenant target identifier for DBaaS connection routing.
        mode:
          title: mode
          $ref: '#/components/schemas/sqlrpc.v1.TransactionLockMode'
      title: BeginRequest
      additionalProperties: false
    sqlrpc.v1.BeginResponse:
      type: object
      properties:
        success:
          type: boolean
          title: success
        transactionId:
          type: string
          title: transaction_id
          format: uuid
      title: BeginResponse
      additionalProperties: false
    sqlrpc.v1.BeginTransactionRequest:
      type: object
      properties:
        database:
          type: string
          title: database
          maxLength: 64
          minLength: 3
          pattern: ^[a-zA-Z0-9_-]+$
          description: Tenant target identifier for DBaaS connection routing.
        timeout:
          title: timeout
          $ref: '#/components/schemas/google.protobuf.Duration'
        mode:
          title: mode
          $ref: '#/components/schemas/sqlrpc.v1.TransactionLockMode'
      title: BeginTransactionRequest
      additionalProperties: false
      description: |-
        Payload to initiate a transaction and acquire an LRU connection.
         The system evaluates the user's role and acquires either a Read-Only or Read-Write connection
         from the global shared LRU pool. The connection is locked to this transaction until commit/rollback.
    sqlrpc.v1.BeginTransactionResponse:
      type: object
      properties:
        transactionId:
          type: string
          title: transaction_id
          description: DBaaS routed transaction identifier (bound to either RO or RW backend).
        expiresAt:
          title: expires_at
          $ref: '#/components/schemas/google.protobuf.Timestamp'
      title: BeginTransactionResponse
      additionalProperties: false
      description: Contains the transaction ID mapping to the acquired connection.
    sqlrpc.v1.CheckpointMode:
      type: string
      title: CheckpointMode
      enum:
        - CHECKPOINT_MODE_UNSPECIFIED
        - CHECKPOINT_MODE_PASSIVE
        - CHECKPOINT_MODE_FULL
        - CHECKPOINT_MODE_RESTART
        - CHECKPOINT_MODE_TRUNCATE
    sqlrpc.v1.CheckpointRequest:
      type: object
      properties:
        database:
          type: string
          title: database
          maxLength: 64
          minLength: 3
          pattern: ^[a-zA-Z0-9_-]+$
          description: Tenant target identifier for DBaaS connection routing.
        mode:
          title: mode
          $ref: '#/components/schemas/sqlrpc.v1.CheckpointMode'
      title: CheckpointRequest
      additionalProperties: false
      description: |-
        Request to run a WAL checkpoint to sync the write-ahead log with the main database.
         Allows passing different CheckpointMode strategies (e.g., PASSIVE, FULL).
    sqlrpc.v1.CheckpointResponse:
      type: object
      properties:
        success:
          type: boolean
          title: success
        message:
          type: string
          title: message
        busyCheckpoints:
          type:
            - integer
            - string
          title: busy_checkpoints
          format: int64
        logCheckpoints:
          type:
            - integer
            - string
          title: log_checkpoints
          format: int64
        checkpointedPages:
          type:
            - integer
            - string
          title: checkpointed_pages
          format: int64
      title: CheckpointResponse
      additionalProperties: false
      description: |-
        Result containing checkpoint statistics from the WAL.
         Exposes the number of modified pages synced to disk.
    sqlrpc.v1.ColumnAffinity:
      type: string
      title: ColumnAffinity
      enum:
        - COLUMN_AFFINITY_UNSPECIFIED
        - COLUMN_AFFINITY_INTEGER
        - COLUMN_AFFINITY_TEXT
        - COLUMN_AFFINITY_BLOB
        - COLUMN_AFFINITY_REAL
        - COLUMN_AFFINITY_NUMERIC
    sqlrpc.v1.ColumnSchema:
      type: object
      properties:
        name:
          type: string
          title: name
        type:
          type: string
          title: type
        notNull:
          type: boolean
          title: not_null
        defaultValue:
          type: string
          title: default_value
        primaryKey:
          type: boolean
          title: primary_key
      title: ColumnSchema
      additionalProperties: false
      description: |-
        Represents the structural schema of a single column within a table.
         Exposes affinity, nullability, and primary key status.
    sqlrpc.v1.CommitResponse:
      type: object
      properties:
        success:
          type: boolean
          title: success
      title: CommitResponse
      additionalProperties: false
    sqlrpc.v1.CreateApiKeyRequest:
      type: object
      properties:
        username:
          type: string
          title: username
          maxLength: 64
          minLength: 1
        name:
          type: string
          title: name
          maxLength: 64
          minLength: 1
        expiresAt:
          title: expires_at
          $ref: '#/components/schemas/google.protobuf.Timestamp'
      title: CreateApiKeyRequest
      additionalProperties: false
    sqlrpc.v1.CreateApiKeyResponse:
      type: object
      properties:
        apiKey:
          type: string
          title: api_key
        keyId:
          type: string
          title: key_id
      title: CreateApiKeyResponse
      additionalProperties: false
    sqlrpc.v1.CreateDatabaseRequest:
      type: object
      properties:
        name:
          type: string
          title: name
          maxLength: 64
          minLength: 3
          pattern: ^[a-zA-Z0-9_-]+$
          description: |-
            Logical tenant identifier representing an isolated database instance.
             Must be alphanumeric (plus _-), 3-64 chars.
        isEncrypted:
          type: boolean
          title: is_encrypted
          description: If true, the platform provisions an encrypted volume via sqlcipher.
        key:
          type: string
          title: key
          description: Master key for the encrypted database. The platform will manage rotation.
        extensions:
          type: array
          items:
            type: string
          title: extensions
          description: Pre-approved server-side extensions the tenant is allowed to utilize.
        pragmas:
          type: object
          title: pragmas
          additionalProperties:
            type: string
            title: value
          description: Tenant-specific PRAGMA configurations (e.g., synchronous, journal_mode).
        maxOpenConns:
          type: integer
          title: max_open_conns
          format: int32
          description: Max open connections for the database operations.
        maxIdleConns:
          type: integer
          title: max_idle_conns
          format: int32
          description: Max idle connections cached for this tenant.
        connMaxLifetimeMs:
          type: integer
          title: conn_max_lifetime_ms
          format: int32
          description: Physical connection lifecycle limit before being forcibly pruned.
      title: CreateDatabaseRequest
      additionalProperties: false
      description: |-
        Payload to provision a new isolated tenant database.
         Restricted to platform or tenant admins. The platform will automatically spin up
         the underlying SQLite file, configure WAL mode, and register it for LRU connection pooling.
    sqlrpc.v1.CreateDatabaseRequest.PragmasEntry:
      type: object
      properties:
        key:
          type: string
          title: key
        value:
          type: string
          title: value
      title: PragmasEntry
      additionalProperties: false
    sqlrpc.v1.CreateDatabaseResponse:
      type: object
      properties:
        success:
          type: boolean
          title: success
        message:
          type: string
          title: message
      title: CreateDatabaseResponse
      additionalProperties: false
      description: |-
        Confirms the successful creation of a new tenant database.
         Returns the database identifier which must be used for future routing.
    sqlrpc.v1.CreateUserRequest:
      type: object
      properties:
        username:
          type: string
          title: username
          maxLength: 64
          minLength: 3
          pattern: ^[a-zA-Z0-9_-]+$
        password:
          type: string
          title: password
          maxLength: 128
          minLength: 8
          pattern: ^[^\s]+$
          description: |
            Password MUST meet basic complexity requirements:
             1. Length between 8 and 128 chars.
             2. No whitespace allowed.
             3. Must contain at least one letter and one number.
            password_complexity // Password must contain at least one letter and one number
        role:
          title: role
          $ref: '#/components/schemas/sqlrpc.v1.Role'
      title: CreateUserRequest
      additionalProperties: false
      description: |-
        Payload to provision a new user in the platform with a specific role.
         Restricted to ROLE_ADMIN or ROLE_DATABASE_MANAGER. The username must be unique
         inside the DBaaS system, and the password must meet basic complexity requirements.
    sqlrpc.v1.CreateUserResponse:
      type: object
      properties:
        userId:
          type:
            - integer
            - string
          title: user_id
          format: int64
        createdAt:
          title: created_at
          $ref: '#/components/schemas/google.protobuf.Timestamp'
        username:
          type: string
          title: username
      title: CreateUserResponse
      additionalProperties: false
      description: Confirms the successful creation of a new user.
    sqlrpc.v1.DMLResult:
      type: object
      properties:
        rowsAffected:
          type:
            - integer
            - string
          title: rows_affected
          format: int64
        lastInsertId:
          type:
            - integer
            - string
          title: last_insert_id
          format: int64
        stats:
          title: stats
          $ref: '#/components/schemas/sqlrpc.v1.ExecutionStats'
      title: DMLResult
      additionalProperties: false
      description: Result block summarizing data modification operations.
    sqlrpc.v1.DatabaseConfig:
      type: object
      properties:
        name:
          type: string
          title: name
          maxLength: 64
          minLength: 3
          pattern: ^[a-zA-Z0-9_-]+$
        dbPath:
          type: string
          title: db_path
          minLength: 1
        isEncrypted:
          type: boolean
          title: is_encrypted
        key:
          type: string
          title: key
        readOnly:
          type: boolean
          title: read_only
        extensions:
          type: array
          items:
            type: string
          title: extensions
        pragmas:
          type: object
          title: pragmas
          additionalProperties:
            type: string
            title: value
        maxOpenConns:
          type: integer
          title: max_open_conns
          format: int32
        maxIdleConns:
          type: integer
          title: max_idle_conns
          format: int32
        connMaxLifetimeMs:
          type: integer
          title: conn_max_lifetime_ms
          format: int32
        initCommands:
          type: array
          items:
            type: string
          title: init_commands
        attachments:
          type: array
          items:
            $ref: '#/components/schemas/sqlrpc.v1.Attachment'
          title: attachments
      title: DatabaseConfig
      additionalProperties: false
      description: |-
        Configuration options for a tenant database.
         Allows tuning of native SQLite pragmas such as JournalMode (e.g., WAL) and
         SynchronousMode (e.g., NORMAL) to balance durability and performance for the specific tenant.
    sqlrpc.v1.DatabaseConfig.PragmasEntry:
      type: object
      properties:
        key:
          type: string
          title: key
        value:
          type: string
          title: value
      title: PragmasEntry
      additionalProperties: false
    sqlrpc.v1.DatabaseInfo:
      type: object
      properties:
        name:
          type: string
          title: name
        path:
          type: string
          title: path
        isManaged:
          type: boolean
          title: is_managed
        currentAttachments:
          type: array
          items:
            $ref: '#/components/schemas/sqlrpc.v1.Attachment'
          title: current_attachments
          description: List of databases currently attached to this one.
        readOnly:
          type: boolean
          title: read_only
        loadedExtensions:
          type: array
          items:
            type: string
          title: loaded_extensions
          description: List of managed extension folder names currently loaded.
      title: DatabaseInfo
      additionalProperties: false
      description: |-
        *
         DBaaS Tenant Metadata.
         Describes an isolated tenant database instance.
    sqlrpc.v1.DatabaseSchema:
      type: object
      properties:
        tables:
          type: array
          items:
            $ref: '#/components/schemas/sqlrpc.v1.TableSchema'
          title: tables
      title: DatabaseSchema
      additionalProperties: false
      description: Collection of table schemas representing the full structure of the database.
    sqlrpc.v1.DeclaredType:
      type: string
      title: DeclaredType
      enum:
        - DECLARED_TYPE_UNSPECIFIED
        - DECLARED_TYPE_INT
        - DECLARED_TYPE_INTEGER
        - DECLARED_TYPE_TINYINT
        - DECLARED_TYPE_SMALLINT
        - DECLARED_TYPE_MEDIUMINT
        - DECLARED_TYPE_BIGINT
        - DECLARED_TYPE_UNSIGNED_BIG_INT
        - DECLARED_TYPE_INT2
        - DECLARED_TYPE_INT8
        - DECLARED_TYPE_CHARACTER
        - DECLARED_TYPE_VARCHAR
        - DECLARED_TYPE_VARYING_CHARACTER
        - DECLARED_TYPE_NCHAR
        - DECLARED_TYPE_NATIVE_CHARACTER
        - DECLARED_TYPE_NVARCHAR
        - DECLARED_TYPE_TEXT
        - DECLARED_TYPE_CLOB
        - DECLARED_TYPE_BLOB
        - DECLARED_TYPE_REAL
        - DECLARED_TYPE_DOUBLE
        - DECLARED_TYPE_DOUBLE_PRECISION
        - DECLARED_TYPE_FLOAT
        - DECLARED_TYPE_NUMERIC
        - DECLARED_TYPE_DECIMAL
        - DECLARED_TYPE_BOOLEAN
        - DECLARED_TYPE_DATE
        - DECLARED_TYPE_DATETIME
        - DECLARED_TYPE_TIMESTAMP
        - DECLARED_TYPE_JSON
        - DECLARED_TYPE_UUID
        - DECLARED_TYPE_TIME
        - DECLARED_TYPE_YEAR
        - DECLARED_TYPE_CHAR
        - DECLARED_TYPE_XML
    sqlrpc.v1.DeleteDatabaseRequest:
      type: object
      properties:
        name:
          type: string
          title: name
          maxLength: 64
          minLength: 3
          pattern: ^[a-zA-Z0-9_-]+$
      title: DeleteDatabaseRequest
      additionalProperties: false
      description: Payload to completely delete a database and its underlying files.
    sqlrpc.v1.DeleteDatabaseResponse:
      type: object
      properties:
        success:
          type: boolean
          title: success
        message:
          type: string
          title: message
      title: DeleteDatabaseResponse
      additionalProperties: false
      description: Confirms the permanent deletion of the database.
    sqlrpc.v1.DeleteUserRequest:
      type: object
      properties:
        username:
          type: string
          title: username
          maxLength: 64
          minLength: 1
      title: DeleteUserRequest
      additionalProperties: false
      description: |-
        Payload to permanently remove a user from the platform.
         Restricted to ROLE_ADMIN. Instantly revokes the user's access.
    sqlrpc.v1.DeleteUserResponse:
      type: object
      properties:
        success:
          type: boolean
          title: success
      title: DeleteUserResponse
      additionalProperties: false
      description: Confirms the successful permanent deletion of a user.
    sqlrpc.v1.DetachDatabaseRequest:
      type: object
      properties:
        parentDatabase:
          type: string
          title: parent_database
          maxLength: 64
          minLength: 3
          pattern: ^[a-zA-Z0-9_-]+$
        alias:
          type: string
          title: alias
          maxLength: 64
          minLength: 1
      title: DetachDatabaseRequest
      additionalProperties: false
      description: |-
        Payload to safely detach a previously attached database.
         Cleans up the namespace and file handles.
    sqlrpc.v1.DetachDatabaseResponse:
      type: object
      properties:
        success:
          type: boolean
          title: success
        message:
          type: string
          title: message
      title: DetachDatabaseResponse
      additionalProperties: false
      description: Confirms the successful detachment.
    sqlrpc.v1.ErrorResponse:
      type: object
      properties:
        message:
          type: string
          title: message
        failedSql:
          type: string
          title: failed_sql
        sqliteErrorCode:
          title: sqlite_error_code
          $ref: '#/components/schemas/sqlrpc.v1.SqliteCode'
      title: ErrorResponse
      additionalProperties: false
    sqlrpc.v1.ExecResponse:
      type: object
      properties:
        dml:
          title: dml
          $ref: '#/components/schemas/sqlrpc.v1.DMLResult'
        stats:
          title: stats
          $ref: '#/components/schemas/sqlrpc.v1.ExecutionStats'
      title: ExecResponse
      additionalProperties: false
      description: |-
        The unified wrapper containing a query's mutation results and execution statistics.
         This is the standard response for Unary `Exec` RPCs. It does not contain result set rows,
         but rather metadata about the data modification (last insert row ID, changes count).
    sqlrpc.v1.ExecuteTransactionRequest:
      type: object
      properties:
        requests:
          type: array
          items:
            $ref: '#/components/schemas/sqlrpc.v1.TransactionRequest'
          title: requests
          maxItems: 100
          minItems: 2
          description: |
            transaction.sequence_end // The script must explicitly end with 'commit' or 'rollback'
            transaction.sequence_start // The first command in an ExecuteTransaction script must be 'begin'
      title: ExecuteTransactionRequest
      additionalProperties: false
      description: |-
        Payload to execute a complete batch of statements in a single atomic DBaaS transaction.
         The platform will acquire a connection, BEGIN the transaction, execute all queries sequentially,
         and automatically COMMIT (or ROLLBACK on any failure), before returning the connection to the pool.
    sqlrpc.v1.ExecuteTransactionResponse:
      type: object
      properties:
        responses:
          type: array
          items:
            $ref: '#/components/schemas/sqlrpc.v1.TransactionResponse'
          title: responses
      title: ExecuteTransactionResponse
      additionalProperties: false
      description: Result containing the individual responses for all statements compiled in the batch transaction.
    sqlrpc.v1.ExecutionStats:
      type: object
      properties:
        durationMs:
          type: number
          title: duration_ms
          format: double
        rowsRead:
          type:
            - integer
            - string
          title: rows_read
          format: int64
        rowsWritten:
          type:
            - integer
            - string
          title: rows_written
          format: int64
      title: ExecutionStats
      additionalProperties: false
      description: Telemetry data covering rows affected, execution time, and last insert row ID.
    sqlrpc.v1.ExplainResponse:
      type: object
      properties:
        nodes:
          type: array
          items:
            $ref: '#/components/schemas/sqlrpc.v1.QueryPlanNode'
          title: nodes
      title: ExplainResponse
      additionalProperties: false
    sqlrpc.v1.ExtensionInfo:
      type: object
      properties:
        name:
          type: string
          title: name
        version:
          type: string
          title: version
        folderName:
          type: string
          title: folder_name
        isLoaded:
          type: boolean
          title: is_loaded
        filePath:
          type: string
          title: file_path
        description:
          type: string
          title: description
        documentationUrl:
          type: string
          title: documentation_url
      title: ExtensionInfo
      additionalProperties: false
      description: |-
        Metadata describing an available SQLite extension.
         Includes version, load path, and security documentation.
    sqlrpc.v1.ExtensionList:
      type: object
      properties:
        values:
          type: array
          items:
            type: string
          title: values
      title: ExtensionList
      additionalProperties: false
      description: A list of SQLite extensions to load upon connection initialization.
    sqlrpc.v1.ForeignKeySchema:
      type: object
      properties:
        id:
          type: integer
          title: id
          format: int32
        table:
          type: string
          title: table
        fromColumn:
          type: string
          title: from_column
        toColumn:
          type: string
          title: to_column
        onUpdate:
          type: string
          title: on_update
        onDelete:
          type: string
          title: on_delete
      title: ForeignKeySchema
      additionalProperties: false
      description: |-
        Represents a foreign key constraint.
         Details the relationship between columns and the enforcement actions (e.g., CASCADE).
    sqlrpc.v1.GetDatabaseSchemaRequest:
      type: object
      properties:
        database:
          type: string
          title: database
          maxLength: 64
          minLength: 3
          pattern: ^[a-zA-Z0-9_-]+$
          description: Tenant target identifier for DBaaS connection routing.
      title: GetDatabaseSchemaRequest
      additionalProperties: false
    sqlrpc.v1.GetServerInfoRequest:
      type: object
      title: GetServerInfoRequest
      additionalProperties: false
    sqlrpc.v1.GetServerInfoResponse:
      type: object
      properties:
        version:
          type: string
          title: version
        authDisabled:
          type: boolean
          title: auth_disabled
      title: GetServerInfoResponse
      additionalProperties: false
    sqlrpc.v1.GetTableSchemaRequest:
      type: object
      properties:
        database:
          type: string
          title: database
          maxLength: 64
          minLength: 3
          pattern: ^[a-zA-Z0-9_-]+$
          description: Tenant target identifier for DBaaS connection routing.
        tableName:
          type: string
          title: table_name
          maxLength: 256
          minLength: 1
      title: GetTableSchemaRequest
      additionalProperties: false
      description: |-
        Request to retrieve the structured schema for a specific table.
         Useful for ORMs and automated tooling to analyze the tenant database.
    sqlrpc.v1.IndexSchema:
      type: object
      properties:
        name:
          type: string
          title: name
        unique:
          type: boolean
          title: unique
        columns:
          type: array
          items:
            type: string
          title: columns
        sql:
          type: string
          title: sql
      title: IndexSchema
      additionalProperties: false
      description: |-
        Represents the schema of an index.
         Details the indexed columns and whether the index enforces uniqueness.
    sqlrpc.v1.InitCommandList:
      type: object
      properties:
        values:
          type: array
          items:
            type: string
          title: values
      title: InitCommandList
      additionalProperties: false
      description: |-
        A secure list of PRAGMA commands to execute upon every connection initialization.
         The DBaaS platform restricts dangerous commands (like ATTACH/DETACH) here to prevent
         tenant breakout, but allows safe session-level configurations (e.g., `PRAGMA foreign_keys = ON`).
    sqlrpc.v1.IntegrityCheckRequest:
      type: object
      properties:
        database:
          type: string
          title: database
          maxLength: 64
          minLength: 3
          pattern: ^[a-zA-Z0-9_-]+$
          description: Tenant target identifier for DBaaS connection routing.
        maxErrors:
          type:
            - integer
            - "null"
          title: max_errors
          format: int32
      title: IntegrityCheckRequest
      additionalProperties: false
      description: |-
        Request to run PRAGMA integrity_check to validate the database file structure.
         Detects corruption, malformed indices, or tree problems.
    sqlrpc.v1.IntegrityCheckResponse:
      type: object
      properties:
        success:
          type: boolean
          title: success
        message:
          type: string
          title: message
        errors:
          type: array
          items:
            type: string
          title: errors
      title: IntegrityCheckResponse
      additionalProperties: false
      description: |-
        Result containing any corruption errors found during the check.
         If success is false, the database may require immediate restoration.
    sqlrpc.v1.ListApiKeysRequest:
      type: object
      properties:
        username:
          type: string
          title: username
          maxLength: 64
          minLength: 1
      title: ListApiKeysRequest
      additionalProperties: false
    sqlrpc.v1.ListApiKeysResponse:
      type: object
      properties:
        keys:
          type: array
          items:
            $ref: '#/components/schemas/sqlrpc.v1.ListApiKeysResponse.ApiKeySummary'
          title: keys
      title: ListApiKeysResponse
      additionalProperties: false
    sqlrpc.v1.ListApiKeysResponse.ApiKeySummary:
      type: object
      properties:
        id:
          type: string
          title: id
        name:
          type: string
          title: name
        prefix:
          type: string
          title: prefix
        createdAt:
          title: created_at
          $ref: '#/components/schemas/google.protobuf.Timestamp'
      title: ApiKeySummary
      additionalProperties: false
    sqlrpc.v1.ListDatabasesRequest:
      type: object
      title: ListDatabasesRequest
      additionalProperties: false
      description: |-
        Request to list all DBaaS tenant databases.
         Administrators see all databases, while tenant managers only see their assigned ones.
    sqlrpc.v1.ListDatabasesResponse:
      type: object
      properties:
        databases:
          type: array
          items:
            $ref: '#/components/schemas/sqlrpc.v1.DatabaseInfo'
          title: databases
      title: ListDatabasesResponse
      additionalProperties: false
      description: |-
        Result containing all active databases and their states.
         Exposes metadata such as file sizes and connection metrics.
    sqlrpc.v1.ListExtensionsRequest:
      type: object
      properties:
        database:
          type:
            - string
            - "null"
          title: database
          maxLength: 64
          minLength: 3
          pattern: ^[a-zA-Z0-9_-]+$
      title: ListExtensionsRequest
      additionalProperties: false
      description: |-
        Request to list all available SQLite extensions recognized by the DBaaS platform.
         May be routed per-database if tenant-specific extensions are enabled.
    sqlrpc.v1.ListExtensionsResponse:
      type: object
      properties:
        extensions:
          type: array
          items:
            $ref: '#/components/schemas/sqlrpc.v1.ExtensionInfo'
          title: extensions
      title: ListExtensionsResponse
      additionalProperties: false
      description: Result containing all loaded extensions and their metadata.
    sqlrpc.v1.ListTablesRequest:
      type: object
      properties:
        database:
          type: string
          title: database
          maxLength: 64
          minLength: 3
          pattern: ^[a-zA-Z0-9_-]+$
          description: Tenant target identifier for DBaaS connection routing.
      title: ListTablesRequest
      additionalProperties: false
      description: Request to list all tables within a specific database.
    sqlrpc.v1.ListTablesResponse:
      type: object
      properties:
        tableNames:
          type: array
          items:
            type: string
          title: table_names
      title: ListTablesResponse
      additionalProperties: false
      description: Result containing all table names.
    sqlrpc.v1.ListUsersRequest:
      type: object
      title: ListUsersRequest
      additionalProperties: false
      description: |-
        Request to list all users within the DBaaS platform.
         Identifies the callers role to filter visible identities.
    sqlrpc.v1.ListUsersResponse:
      type: object
      properties:
        users:
          type: array
          items:
            $ref: '#/components/schemas/sqlrpc.v1.User'
          title: users
      title: ListUsersResponse
      additionalProperties: false
      description: |-
        Result containing all registered users.
         Provides basic user metadata excluding sensitive credentials.
    sqlrpc.v1.LoadExtensionRequest:
      type: object
      properties:
        database:
          type: string
          title: database
          maxLength: 64
          minLength: 3
          pattern: ^[a-zA-Z0-9_-]+$
          description: Tenant target identifier for DBaaS connection routing.
        folderName:
          type: string
          title: folder_name
          minLength: 1
      title: LoadExtensionRequest
      additionalProperties: false
      description: |-
        Payload to safely load a whitelisted SQLite extension into the connection.
         The DBaaS platform strictly prevents loading arbitrary external binaries.
    sqlrpc.v1.LoadExtensionResponse:
      type: object
      properties:
        success:
          type: boolean
          title: success
        message:
          type: string
          title: message
      title: LoadExtensionResponse
      additionalProperties: false
      description: Confirms the successful extension load into the global LRU connection.
    sqlrpc.v1.LoginRequest:
      type: object
      properties:
        username:
          type: string
          title: username
        password:
          type: string
          title: password
        sessionDuration:
          title: session_duration
          description: Optional duration for the session. Defaults to 7 days if unspecified.
          $ref: '#/components/schemas/google.protobuf.Duration'
      title: LoginRequest
      additionalProperties: false
      description: |-
        Payload for authenticating a user and obtaining an RBAC-bound session token.
         Clients must provide valid credentials. The resulting token will dictate
         which global LRU connection (Read-Only or Read-Write) their subsequent requests are routed to.
    sqlrpc.v1.LoginResponse:
      type: object
      properties:
        apiKey:
          type: string
          title: api_key
        expiresAt:
          title: expires_at
          $ref: '#/components/schemas/google.protobuf.Timestamp'
        user:
          title: user
          $ref: '#/components/schemas/sqlrpc.v1.User'
        keyId:
          type: string
          title: key_id
      title: LoginResponse
      additionalProperties: false
      description: |-
        Contains the JWT session token with embedded role claims for DBaaS routing.
         This token must be passed in the `authorization: Bearer <token>` metadata header
         for all subsequent gRPC requests to ensure proper tenant isolation and connection routing.
    sqlrpc.v1.LogoutRequest:
      type: object
      properties:
        keyId:
          type: string
          title: key_id
          format: uuid
        username:
          type: string
          title: username
      title: LogoutRequest
      additionalProperties: false
    sqlrpc.v1.LogoutResponse:
      type: object
      properties:
        success:
          type: boolean
          title: success
      title: LogoutResponse
      additionalProperties: false
    sqlrpc.v1.MountDatabaseResponse:
      type: object
      properties:
        success:
          type: boolean
          title: success
        message:
          type: string
          title: message
      title: MountDatabaseResponse
      additionalProperties: false
      description: Confirms the successful mount.
    sqlrpc.v1.Parameters:
      type: object
      properties:
        positional:
          type: array
          items:
            $ref: '#/components/schemas/google.protobuf.Value'
          title: positional
        named:
          type: object
          title: named
          additionalProperties:
            title: value
            $ref: '#/components/schemas/google.protobuf.Value'
        hints:
          type: object
          title: hints
          maxProperties: 1000
          additionalProperties:
            title: value
            $ref: '#/components/schemas/sqlrpc.v1.ColumnAffinity'
      title: Parameters
      additionalProperties: false
      description: |-
        Payload for securely passing parameterized values into SQL queries.
         Binds variables to the prepared statement to prevent SQL injection. Supports both
         positional constraints (`?`) via the `values` array, and named constraints (`:name`) via the `named` map.
         The `hints` map provides explicit SQLite column affinity overrides if dynamic typing is insufficient.
    sqlrpc.v1.Parameters.HintsEntry:
      type: object
      properties:
        key:
          type: string
          title: key
        value:
          title: value
          $ref: '#/components/schemas/sqlrpc.v1.ColumnAffinity'
      title: HintsEntry
      additionalProperties: false
    sqlrpc.v1.Parameters.NamedEntry:
      type: object
      properties:
        key:
          type: string
          title: key
        value:
          title: value
          $ref: '#/components/schemas/google.protobuf.Value'
      title: NamedEntry
      additionalProperties: false
    sqlrpc.v1.PragmaMap:
      type: object
      properties:
        values:
          type: object
          title: values
          additionalProperties:
            type: string
            title: value
      title: PragmaMap
      additionalProperties: false
      description: Key-value pairs of native SQLite PRAGMAs to apply to the connection.
    sqlrpc.v1.PragmaMap.ValuesEntry:
      type: object
      properties:
        key:
          type: string
          title: key
        value:
          type: string
          title: value
      title: ValuesEntry
      additionalProperties: false
    sqlrpc.v1.QueryComplete:
      type: object
      properties:
        stats:
          title: stats
          $ref: '#/components/schemas/sqlrpc.v1.ExecutionStats'
      title: QueryComplete
      additionalProperties: false
    sqlrpc.v1.QueryPlanNode:
      type: object
      properties:
        id:
          type: integer
          title: id
          format: int32
        parentId:
          type: integer
          title: parent_id
          format: int32
        detail:
          type: string
          title: detail
      title: QueryPlanNode
      additionalProperties: false
    sqlrpc.v1.QueryRequest:
      type: object
      properties:
        database:
          type: string
          title: database
          maxLength: 64
          minLength: 3
          pattern: ^[a-zA-Z0-9_-]+$
          description: Tenant target identifier for DBaaS connection routing.
        sql:
          type: string
          title: sql
          maxLength: 10240
          minLength: 1
        parameters:
          title: parameters
          $ref: '#/components/schemas/sqlrpc.v1.Parameters'
      title: QueryRequest
      additionalProperties: false
      description: Payload to execute a standard SQL statement against a database.
    sqlrpc.v1.QueryResponse:
      type: object
      oneOf:
        - properties:
            batch:
              title: batch
              $ref: '#/components/schemas/sqlrpc.v1.QueryResultRowBatch'
          title: batch
          required:
            - batch
        - properties:
            complete:
              title: complete
              $ref: '#/components/schemas/sqlrpc.v1.QueryComplete'
          title: complete
          required:
            - complete
        - properties:
            error:
              title: error
              $ref: '#/components/schemas/sqlrpc.v1.ErrorResponse'
          title: error
          required:
            - error
        - properties:
            header:
              title: header
              $ref: '#/components/schemas/sqlrpc.v1.QueryResultHeader'
          title: header
          required:
            - header
      title: QueryResponse
      additionalProperties: false
      description: The streaming response yielding chunks of data from a DBaaS read query.
    sqlrpc.v1.QueryResult:
      type: object
      properties:
        columns:
          type: array
          items:
            type: string
          title: columns
        columnAffinities:
          type: array
          items:
            $ref: '#/components/schemas/sqlrpc.v1.ColumnAffinity'
          title: column_affinities
        columnDeclaredTypes:
          type: array
          items:
            $ref: '#/components/schemas/sqlrpc.v1.DeclaredType'
          title: column_declared_types
        columnRawTypes:
          type: array
          items:
            type: string
          title: column_raw_types
        rows:
          type: array
          items:
            $ref: '#/components/schemas/google.protobuf.ListValue'
          title: rows
        stats:
          title: stats
          $ref: '#/components/schemas/sqlrpc.v1.ExecutionStats'
      title: QueryResult
      additionalProperties: false
      description: |-
        The unified wrapper containing a query's read results and execution statistics.
         This is the standard response for Unary `Query` RPCs, providing the requested data alongside
         performance telemetry like execution time and rows affected.
    sqlrpc.v1.QueryResultHeader:
      type: object
      properties:
        columns:
          type: array
          items:
            type: string
          title: columns
        columnAffinities:
          type: array
          items:
            $ref: '#/components/schemas/sqlrpc.v1.ColumnAffinity'
          title: column_affinities
        columnDeclaredTypes:
          type: array
          items:
            $ref: '#/components/schemas/sqlrpc.v1.DeclaredType'
          title: column_declared_types
        columnRawTypes:
          type: array
          items:
            type: string
          title: column_raw_types
      title: QueryResultHeader
      additionalProperties: false
    sqlrpc.v1.QueryResultRowBatch:
      type: object
      properties:
        rows:
          type: array
          items:
            $ref: '#/components/schemas/google.protobuf.ListValue'
          title: rows
      title: QueryResultRowBatch
      additionalProperties: false
    sqlrpc.v1.RestoreDatabaseRequest:
      type: object
      oneOf:
        - properties:
            chunk:
              type: string
              title: chunk
              maxLength: 4194304
              minLength: 1
              format: byte
              description: |
                bytes.const = []
          title: chunk
          required:
            - chunk
        - properties:
            databaseName:
              type: string
              title: database_name
              maxLength: 64
              minLength: 3
              pattern: ^[a-zA-Z0-9_-]+$
          title: database_name
          required:
            - databaseName
      title: RestoreDatabaseRequest
      additionalProperties: false
      description: |-
        Payload to strictly stream and restore a database from a backup file.
         Overwrites the existing tenant database with the incoming byte chunks.
    sqlrpc.v1.RestoreDatabaseResponse:
      type: object
      properties:
        success:
          type: boolean
          title: success
        bytesWritten:
          type:
            - integer
            - string
          title: bytes_written
          format: int64
      title: RestoreDatabaseResponse
      additionalProperties: false
      description: Confirms the successful completion of the restoration.
    sqlrpc.v1.RevokeApiKeyRequest:
      type: object
      properties:
        keyId:
          type: string
          title: key_id
          format: uuid
        username:
          type: string
          title: username
      title: RevokeApiKeyRequest
      additionalProperties: false
    sqlrpc.v1.RevokeApiKeyResponse:
      type: object
      properties:
        success:
          type: boolean
          title: success
      title: RevokeApiKeyResponse
      additionalProperties: false
    sqlrpc.v1.Role:
      type: string
      title: Role
      enum:
        - ROLE_UNSPECIFIED
        - ROLE_ADMIN
        - ROLE_DATABASE_MANAGER
        - ROLE_READ_WRITE
        - ROLE_READ_ONLY
      description: |-
        *
         Role defines the RBAC permission tier for a platform identity.
         Determines connection provisioning (e.g., Read-Only users receive strictly
         read-only connections).
    sqlrpc.v1.RollbackResponse:
      type: object
      properties:
        success:
          type: boolean
          title: success
      title: RollbackResponse
      additionalProperties: false
    sqlrpc.v1.SavepointAction:
      type: string
      title: SavepointAction
      enum:
        - SAVEPOINT_ACTION_UNSPECIFIED
        - SAVEPOINT_ACTION_CREATE
        - SAVEPOINT_ACTION_RELEASE
        - SAVEPOINT_ACTION_ROLLBACK
    sqlrpc.v1.SavepointRequest:
      type: object
      properties:
        name:
          type: string
          title: name
          maxLength: 64
          minLength: 1
          pattern: ^[a-zA-Z0-9_-]+$
        action:
          title: action
          $ref: '#/components/schemas/sqlrpc.v1.SavepointAction'
      title: SavepointRequest
      additionalProperties: false
      description: Structure defining the designated savepoint name and the intended action (create, release, rollback).
    sqlrpc.v1.SavepointResponse:
      type: object
      properties:
        success:
          type: boolean
          title: success
        name:
          type: string
          title: name
        action:
          title: action
          $ref: '#/components/schemas/sqlrpc.v1.SavepointAction'
      title: SavepointResponse
      additionalProperties: false
      description: Confirms the savepoint action completed successfully.
    sqlrpc.v1.SqlRow:
      type: object
      properties:
        values:
          type: array
          items:
            $ref: '#/components/schemas/sqlrpc.v1.SqlValue'
          title: values
      title: SqlRow
      additionalProperties: false
      description: |-
        Represents a single row returned from a typed query.
         Contains an ordered list of `SqlValue` objects corresponding to the selected columns.
    sqlrpc.v1.SqlValue:
      type: object
      oneOf:
        - properties:
            blobValue:
              type: string
              title: blob_value
              format: byte
          title: blob_value
          required:
            - blobValue
        - properties:
            integerValue:
              type:
                - integer
                - string
              title: integer_value
              format: int64
          title: integer_value
          required:
            - integerValue
        - properties:
            nullValue:
              type: boolean
              title: null_value
          title: null_value
          required:
            - nullValue
        - properties:
            realValue:
              type: number
              title: real_value
              format: double
          title: real_value
          required:
            - realValue
        - properties:
            textValue:
              type: string
              title: text_value
          title: text_value
          required:
            - textValue
      title: SqlValue
      additionalProperties: false
      description: |-
        Represents a strictly-typed SQLite value (e.g., int64, double, string, blob, null).
         This guarantees that data is not implicitly coerced to strings during gRPC serialization,
         preserving the native SQLite type infinity.
    sqlrpc.v1.SqliteCode:
      type: string
      title: SqliteCode
      enum:
        - SQLITE_OK
        - SQLITE_ERROR
        - SQLITE_INTERNAL
        - SQLITE_PERM
        - SQLITE_ABORT
        - SQLITE_BUSY
        - SQLITE_LOCKED
        - SQLITE_NOMEM
        - SQLITE_READONLY
        - SQLITE_INTERRUPT
        - SQLITE_IOERR
        - SQLITE_CORRUPT
        - SQLITE_NOTFOUND
        - SQLITE_FULL
        - SQLITE_CANTOPEN
        - SQLITE_PROTOCOL
        - SQLITE_EMPTY
        - SQLITE_SCHEMA
        - SQLITE_TOOBIG
        - SQLITE_CONSTRAINT
        - SQLITE_MISMATCH
        - SQLITE_MISUSE
        - SQLITE_NOLFS
        - SQLITE_AUTH
        - SQLITE_FORMAT
        - SQLITE_RANGE
        - SQLITE_NOTADB
        - SQLITE_NOTICE
        - SQLITE_WARNING
        - SQLITE_ROW
        - SQLITE_DONE
      description: |-
        buf:lint:ignore ENUM_VALUE_PREFIX
         buf:lint:ignore ENUM_ZERO_VALUE_SUFFIX
    sqlrpc.v1.TableSchema:
      type: object
      properties:
        name:
          type: string
          title: name
        sql:
          type: string
          title: sql
        columns:
          type: array
          items:
            $ref: '#/components/schemas/sqlrpc.v1.ColumnSchema'
          title: columns
        indexes:
          type: array
          items:
            $ref: '#/components/schemas/sqlrpc.v1.IndexSchema'
          title: indexes
        foreignKeys:
          type: array
          items:
            $ref: '#/components/schemas/sqlrpc.v1.ForeignKeySchema'
          title: foreign_keys
        triggers:
          type: array
          items:
            $ref: '#/components/schemas/sqlrpc.v1.TriggerSchema'
          title: triggers
      title: TableSchema
      additionalProperties: false
      description: |-
        Represents the structural schema of a database table.
         Fully delineates the SQLite table definition including its constraints.
    sqlrpc.v1.TransactionControlRequest:
      type: object
      properties:
        transactionId:
          type: string
          title: transaction_id
          maxLength: 128
          minLength: 1
          description: DBaaS routed transaction identifier (bound to either RO or RW backend).
      title: TransactionControlRequest
      additionalProperties: false
      description: |-
        Payload to either commit or rollback an active transaction.
         Concludes the multi-statement operation and returns the acquired connection back
         to the global DBaaS LRU pool for other requests to use.
    sqlrpc.v1.TransactionControlResponse:
      type: object
      properties:
        success:
          type: boolean
          title: success
      title: TransactionControlResponse
      additionalProperties: false
      description: Confirms the conclusion of the transaction and releases the connection.
    sqlrpc.v1.TransactionLockMode:
      type: string
      title: TransactionLockMode
      enum:
        - TRANSACTION_LOCK_MODE_UNSPECIFIED
        - TRANSACTION_LOCK_MODE_DEFERRED
        - TRANSACTION_LOCK_MODE_IMMEDIATE
        - TRANSACTION_LOCK_MODE_EXCLUSIVE
    sqlrpc.v1.TransactionQueryRequest:
      type: object
      properties:
        transactionId:
          type: string
          title: transaction_id
          maxLength: 128
          minLength: 1
          description: DBaaS routed transaction identifier (bound to either RO or RW backend).
        sql:
          type: string
          title: sql
          maxLength: 10240
          minLength: 1
        parameters:
          title: parameters
          $ref: '#/components/schemas/sqlrpc.v1.Parameters'
      title: TransactionQueryRequest
      additionalProperties: false
      description: |-
        Payload for executing an operation within an active transaction.
         Uses the exact LRU connection already acquired by `BeginTransaction`.
    sqlrpc.v1.TransactionRequest:
      type: object
      oneOf:
        - properties:
            begin:
              title: begin
              $ref: '#/components/schemas/sqlrpc.v1.BeginRequest'
          title: begin
          required:
            - begin
        - properties:
            commit:
              title: commit
              $ref: '#/components/schemas/google.protobuf.Empty'
          title: commit
          required:
            - commit
        - properties:
            exec:
              title: exec
              $ref: '#/components/schemas/sqlrpc.v1.TransactionalQueryRequest'
          title: exec
          required:
            - exec
        - properties:
            query:
              title: query
              $ref: '#/components/schemas/sqlrpc.v1.TransactionalQueryRequest'
          title: query
          required:
            - query
        - properties:
            queryStream:
              title: query_stream
              $ref: '#/components/schemas/sqlrpc.v1.TransactionalQueryRequest'
          title: query_stream
          required:
            - queryStream
        - properties:
            rollback:
              title: rollback
              $ref: '#/components/schemas/google.protobuf.Empty'
          title: rollback
          required:
            - rollback
        - properties:
            savepoint:
              title: savepoint
              $ref: '#/components/schemas/sqlrpc.v1.SavepointRequest'
          title: savepoint
          required:
            - savepoint
        - properties:
            typedExec:
              title: typed_exec
              $ref: '#/components/schemas/sqlrpc.v1.TypedTransactionalQueryRequest'
          title: typed_exec
          required:
            - typedExec
        - properties:
            typedQuery:
              title: typed_query
              $ref: '#/components/schemas/sqlrpc.v1.TypedTransactionalQueryRequest'
          title: typed_query
          required:
            - typedQuery
        - properties:
            typedQueryStream:
              title: typed_query_stream
              $ref: '#/components/schemas/sqlrpc.v1.TypedTransactionalQueryRequest'
          title: typed_query_stream
          required:
            - typedQueryStream
      title: TransactionRequest
      additionalProperties: false
      description: |-
        The multiplexed payload for bidirectional transactional flows.
         Streams subsequent queries and control operations into the active transaction.
    sqlrpc.v1.TransactionResponse:
      type: object
      oneOf:
        - properties:
            begin:
              title: begin
              $ref: '#/components/schemas/sqlrpc.v1.BeginResponse'
          title: begin
          required:
            - begin
        - properties:
            commit:
              title: commit
              $ref: '#/components/schemas/sqlrpc.v1.CommitResponse'
          title: commit
          required:
            - commit
        - properties:
            error:
              title: error
              description: '--- System Errors ---'
              $ref: '#/components/schemas/sqlrpc.v1.ErrorResponse'
          title: error
          required:
            - error
        - properties:
            execResult:
              title: exec_result
              $ref: '#/components/schemas/sqlrpc.v1.ExecResponse'
          title: exec_result
          required:
            - execResult
        - properties:
            queryResult:
              title: query_result
              $ref: '#/components/schemas/sqlrpc.v1.QueryResult'
          title: query_result
          required:
            - queryResult
        - properties:
            rollback:
              title: rollback
              $ref: '#/components/schemas/sqlrpc.v1.RollbackResponse'
          title: rollback
          required:
            - rollback
        - properties:
            savepoint:
              title: savepoint
              $ref: '#/components/schemas/sqlrpc.v1.SavepointResponse'
          title: savepoint
          required:
            - savepoint
        - properties:
            streamResult:
              title: stream_result
              $ref: '#/components/schemas/sqlrpc.v1.QueryResponse'
          title: stream_result
          required:
            - streamResult
        - properties:
            typedQueryResult:
              title: typed_query_result
              $ref: '#/components/schemas/sqlrpc.v1.TypedQueryResult'
          title: typed_query_result
          required:
            - typedQueryResult
        - properties:
            typedStreamResult:
              title: typed_stream_result
              $ref: '#/components/schemas/sqlrpc.v1.TypedQueryResponse'
          title: typed_stream_result
          required:
            - typedStreamResult
      title: TransactionResponse
      additionalProperties: false
      description: |-
        The multiplexed result for bidirectional transactional flows.
         Streams responses back to the client matching the sequence of queries.
    sqlrpc.v1.TransactionSavepointRequest:
      type: object
      properties:
        transactionId:
          type: string
          title: transaction_id
          maxLength: 128
          minLength: 1
          description: DBaaS routed transaction identifier (bound to either RO or RW backend).
        savepoint:
          title: savepoint
          $ref: '#/components/schemas/sqlrpc.v1.SavepointRequest'
      title: TransactionSavepointRequest
      required:
        - savepoint
      additionalProperties: false
      description: |-
        Payload to create, release, or rollback to a savepoint within a transaction.
         Enables nested transactional boundaries within a wider transaction.
    sqlrpc.v1.TransactionalQueryRequest:
      type: object
      properties:
        sql:
          type: string
          title: sql
          maxLength: 10240
          minLength: 1
        parameters:
          title: parameters
          $ref: '#/components/schemas/sqlrpc.v1.Parameters'
      title: TransactionalQueryRequest
      additionalProperties: false
      description: Payload representing a standard query within a multiplexed transaction.
    sqlrpc.v1.TriggerSchema:
      type: object
      properties:
        name:
          type: string
          title: name
        sql:
          type: string
          title: sql
      title: TriggerSchema
      additionalProperties: false
      description: |-
        Represents a database trigger.
         Contains the SQLite payload executed upon specific CRUD events.
    sqlrpc.v1.TypedParameters:
      type: object
      properties:
        positional:
          type: array
          items:
            $ref: '#/components/schemas/sqlrpc.v1.SqlValue'
          title: positional
          maxItems: 1000
        named:
          type: object
          title: named
          maxProperties: 1000
          additionalProperties:
            title: value
            $ref: '#/components/schemas/sqlrpc.v1.SqlValue'
      title: TypedParameters
      additionalProperties: false
      description: |-
        Payload for securely passing strictly-typed parameters into SQL queries.
         Supports both positional and named binds, ensuring type safety without requiring explicit SQLite hints.
    sqlrpc.v1.TypedParameters.NamedEntry:
      type: object
      properties:
        key:
          type: string
          title: key
        value:
          title: value
          $ref: '#/components/schemas/sqlrpc.v1.SqlValue'
      title: NamedEntry
      additionalProperties: false
    sqlrpc.v1.TypedQueryRequest:
      type: object
      properties:
        database:
          type: string
          title: database
          maxLength: 64
          minLength: 3
          pattern: ^[a-zA-Z0-9_-]+$
          description: Tenant target identifier for DBaaS connection routing.
        sql:
          type: string
          title: sql
          maxLength: 10240
          minLength: 1
        parameters:
          title: parameters
          $ref: '#/components/schemas/sqlrpc.v1.TypedParameters'
      title: TypedQueryRequest
      additionalProperties: false
      description: |-
        Payload to execute a SQL statement taking strictly-typed protobuf values.
         Protects against injection while ensuring data types remain intact across the wire.
    sqlrpc.v1.TypedQueryResponse:
      type: object
      oneOf:
        - properties:
            batch:
              title: batch
              $ref: '#/components/schemas/sqlrpc.v1.TypedQueryResultRowBatch'
          title: batch
          required:
            - batch
        - properties:
            complete:
              title: complete
              $ref: '#/components/schemas/sqlrpc.v1.QueryComplete'
          title: complete
          required:
            - complete
        - properties:
            error:
              title: error
              $ref: '#/components/schemas/sqlrpc.v1.ErrorResponse'
          title: error
          required:
            - error
        - properties:
            header:
              title: header
              $ref: '#/components/schemas/sqlrpc.v1.TypedQueryResultHeader'
          title: header
          required:
            - header
      title: TypedQueryResponse
      additionalProperties: false
      description: |-
        The multiplexed streaming response yielding chunks of strictly-typed values.
         May contain headers, batches of rows, completion stats, or errors.
    sqlrpc.v1.TypedQueryResult:
      type: object
      properties:
        columns:
          type: array
          items:
            type: string
          title: columns
        columnAffinities:
          type: array
          items:
            $ref: '#/components/schemas/sqlrpc.v1.ColumnAffinity'
          title: column_affinities
        columnDeclaredTypes:
          type: array
          items:
            $ref: '#/components/schemas/sqlrpc.v1.DeclaredType'
          title: column_declared_types
        columnRawTypes:
          type: array
          items:
            type: string
          title: column_raw_types
        rows:
          type: array
          items:
            $ref: '#/components/schemas/sqlrpc.v1.SqlRow'
          title: rows
        stats:
          title: stats
          $ref: '#/components/schemas/sqlrpc.v1.ExecutionStats'
      title: TypedQueryResult
      additionalProperties: false
      description: |-
        The unified wrapper containing strictly-typed read results and execution statistics.
         Provides the column metadata alongside the `SqlRow` objects.
    sqlrpc.v1.TypedQueryResultHeader:
      type: object
      properties:
        columns:
          type: array
          items:
            type: string
          title: columns
        columnAffinities:
          type: array
          items:
            $ref: '#/components/schemas/sqlrpc.v1.ColumnAffinity'
          title: column_affinities
        columnDeclaredTypes:
          type: array
          items:
            $ref: '#/components/schemas/sqlrpc.v1.DeclaredType'
          title: column_declared_types
        columnRawTypes:
          type: array
          items:
            type: string
          title: column_raw_types
      title: TypedQueryResultHeader
      additionalProperties: false
      description: |-
        The initial streaming response containing column metadata and structural schemas.
         Sent once at the start of a `TypedQueryStream` before any row batches.
    sqlrpc.v1.TypedQueryResultRowBatch:
      type: object
      properties:
        rows:
          type: array
          items:
            $ref: '#/components/schemas/sqlrpc.v1.SqlRow'
          title: rows
      title: TypedQueryResultRowBatch
      additionalProperties: false
      description: |-
        A chunk of strictly-typed rows in a streaming response.
         Reduces memory overhead by yielding results in constrained batches.
    sqlrpc.v1.TypedTransactionQueryRequest:
      type: object
      properties:
        transactionId:
          type: string
          title: transaction_id
          maxLength: 128
          minLength: 1
          description: DBaaS routed transaction identifier (bound to either RO or RW backend).
        sql:
          type: string
          title: sql
          maxLength: 10240
          minLength: 1
        parameters:
          title: parameters
          $ref: '#/components/schemas/sqlrpc.v1.TypedParameters'
      title: TypedTransactionQueryRequest
      additionalProperties: false
      description: |-
        Payload representing a typed query within a multiplexed transaction.
         Runs under the active LRU connection bound to the transaction ID.
    sqlrpc.v1.TypedTransactionalQueryRequest:
      type: object
      properties:
        sql:
          type: string
          title: sql
          maxLength: 10240
          minLength: 1
        parameters:
          title: parameters
          $ref: '#/components/schemas/sqlrpc.v1.TypedParameters'
      title: TypedTransactionalQueryRequest
      additionalProperties: false
      description: |-
        Payload representing a typed query within a multiplexed DBaaS transaction.
         Does not need a database target since the connection is already active.
    sqlrpc.v1.UnMountDatabaseRequest:
      type: object
      properties:
        name:
          type: string
          title: name
          maxLength: 64
          minLength: 3
          pattern: ^[a-zA-Z0-9_-]+$
      title: UnMountDatabaseRequest
      additionalProperties: false
      description: |-
        Payload to unmount and remove a database from the DBaaS control plane without deleting the file.
         Closes all pooled connections and unregisters the routing mapping.
    sqlrpc.v1.UnMountDatabaseResponse:
      type: object
      properties:
        success:
          type: boolean
          title: success
        message:
          type: string
          title: message
      title: UnMountDatabaseResponse
      additionalProperties: false
      description: Confirms the successful unmount.
    sqlrpc.v1.UpdateDatabaseConfig:
      type: object
      properties:
        readOnly:
          type:
            - boolean
            - "null"
          title: read_only
        extensions:
          title: extensions
          $ref: '#/components/schemas/sqlrpc.v1.ExtensionList'
        pragmas:
          title: pragmas
          $ref: '#/components/schemas/sqlrpc.v1.PragmaMap'
        maxOpenConns:
          type:
            - integer
            - "null"
          title: max_open_conns
          format: int32
        maxIdleConns:
          type:
            - integer
            - "null"
          title: max_idle_conns
          format: int32
        connMaxLifetimeMs:
          type:
            - integer
            - "null"
          title: conn_max_lifetime_ms
          format: int32
        initCommands:
          title: init_commands
          $ref: '#/components/schemas/sqlrpc.v1.InitCommandList'
        attachments:
          title: attachments
          $ref: '#/components/schemas/sqlrpc.v1.AttachmentList'
      title: UpdateDatabaseConfig
      additionalProperties: false
      description: |-
        Settings allowed to be updated on an existing database.
         Can modify read-only status, pragmas, extensions, and attachment configurations on the fly.
    sqlrpc.v1.UpdateDatabaseRequest:
      type: object
      properties:
        name:
          type: string
          title: name
          maxLength: 64
          minLength: 3
          pattern: ^[a-zA-Z0-9_-]+$
        config:
          title: config
          $ref: '#/components/schemas/sqlrpc.v1.UpdateDatabaseConfig'
      title: UpdateDatabaseRequest
      additionalProperties: false
      description: |-
        Payload to apply configuration updates to a database.
         Changes take effect for new connections spun up in the global LRU pool.
    sqlrpc.v1.UpdateDatabaseResponse:
      type: object
      properties:
        success:
          type: boolean
          title: success
        message:
          type: string
          title: message
      title: UpdateDatabaseResponse
      additionalProperties: false
      description: Confirms the successful configuration update.
    sqlrpc.v1.UpdatePasswordRequest:
      type: object
      properties:
        username:
          type: string
          title: username
          maxLength: 64
          minLength: 1
        newPassword:
          type: string
          title: new_password
          maxLength: 128
          minLength: 8
          pattern: ^[^\s]+$
          description: |
            password_complexity // Password must contain at least one letter and one number
      title: UpdatePasswordRequest
      additionalProperties: false
      description: |-
        Payload to rotate a user's password.
         Can be performed by the user themselves or by a platform administrator.
    sqlrpc.v1.UpdatePasswordResponse:
      type: object
      properties:
        success:
          type: boolean
          title: success
      title: UpdatePasswordResponse
      additionalProperties: false
      description: |-
        Confirms the successful password update.
         Invalidates previous sessions if configured.
    sqlrpc.v1.UpdateUserRoleRequest:
      type: object
      properties:
        username:
          type: string
          title: username
          maxLength: 64
          minLength: 1
        role:
          title: role
          $ref: '#/components/schemas/sqlrpc.v1.Role'
      title: UpdateUserRoleRequest
      additionalProperties: false
    sqlrpc.v1.UpdateUserRoleResponse:
      type: object
      properties:
        success:
          type: boolean
          title: success
      title: UpdateUserRoleResponse
      additionalProperties: false
    sqlrpc.v1.User:
      type: object
      properties:
        id:
          type:
            - integer
            - string
          title: id
          format: int64
        username:
          type: string
          title: username
        role:
          title: role
          $ref: '#/components/schemas/sqlrpc.v1.Role'
      title: User
      additionalProperties: false
    sqlrpc.v1.VacuumRequest:
      type: object
      properties:
        database:
          type: string
          title: database
          maxLength: 64
          minLength: 3
          pattern: ^[a-zA-Z0-9_-]+$
          description: Tenant target identifier for DBaaS connection routing.
        intoFile:
          type:
            - string
            - "null"
          title: into_file
      title: VacuumRequest
      additionalProperties: false
      description: |-
        Request to run the VACUUM command to rebuild the database file and reclaim space.
         Can optionally vacuum into a new target file to reduce downtime.
    sqlrpc.v1.VacuumResponse:
      type: object
      properties:
        success:
          type: boolean
          title: success
        message:
          type: string
          title: message
      title: VacuumResponse
      additionalProperties: false
      description: Confirms the VACUUM operation completion and returns space reclaimed metrics.
    google.protobuf.Duration:
      type: string
      format: duration
      description: |-
        A Duration represents a signed, fixed-length span of time represented
         as a count of seconds and fractions of seconds at nanosecond
         resolution. It is independent of any calendar and concepts like "day"
         or "month". It is related to Timestamp in that the difference between
         two Timestamp values is a Duration and it can be added or subtracted
         from a Timestamp. Range is approximately +-10,000 years.

         # Examples

         Example 1: Compute Duration from two Timestamps in pseudo code.

             Timestamp start = ...;
             Timestamp end = ...;
             Duration duration = ...;

             duration.seconds = end.seconds - start.seconds;
             duration.nanos = end.nanos - start.nanos;

             if (duration.seconds < 0 && duration.nanos > 0) {
               duration.seconds += 1;
               duration.nanos -= 1000000000;
             } else if (duration.seconds > 0 && duration.nanos < 0) {
               duration.seconds -= 1;
               duration.nanos += 1000000000;
             }

         Example 2: Compute Timestamp from Timestamp + Duration in pseudo code.

             Timestamp start = ...;
             Duration duration = ...;
             Timestamp end = ...;

             end.seconds = start.seconds + duration.seconds;
             end.nanos = start.nanos + duration.nanos;

             if (end.nanos < 0) {
               end.seconds -= 1;
               end.nanos += 1000000000;
             } else if (end.nanos >= 1000000000) {
               end.seconds += 1;
               end.nanos -= 1000000000;
             }

         Example 3: Compute Duration from datetime.timedelta in Python.

             td = datetime.timedelta(days=3, minutes=10)
             duration = Duration()
             duration.FromTimedelta(td)

         # JSON Mapping

         In JSON format, the Duration type is encoded as a string rather than an
         object, where the string ends in the suffix "s" (indicating seconds) and
         is preceded by the number of seconds, with nanoseconds expressed as
         fractional seconds. For example, 3 seconds with 0 nanoseconds should be
         encoded in JSON format as "3s", while 3 seconds and 1 nanosecond should
         be expressed in JSON format as "3.000000001s", and 3 seconds and 1
         microsecond should be expressed in JSON format as "3.000001s".
    google.protobuf.Empty:
      type: object
      description: |-
        A generic empty message that you can re-use to avoid defining duplicated
         empty messages in your APIs. A typical example is to use it as the request
         or the response type of an API method. For instance:

             service Foo {
               rpc Bar(google.protobuf.Empty) returns (google.protobuf.Empty);
             }
    google.protobuf.ListValue:
      type: object
      properties:
        values:
          type: array
          items:
            $ref: '#/components/schemas/google.protobuf.Value'
          title: values
          description: Repeated field of dynamically typed values.
      title: ListValue
      additionalProperties: false
      description: |-
        `ListValue` is a wrapper around a repeated field of values.

         The JSON representation for `ListValue` is JSON array.
    google.protobuf.NullValue:
      type: string
      title: NullValue
      enum:
        - NULL_VALUE
      description: |-
        `NullValue` is a singleton enumeration to represent the null value for the
         `Value` type union.

         The JSON representation for `NullValue` is JSON `null`.
    google.protobuf.Struct:
      type: object
      additionalProperties:
        $ref: '#/components/schemas/google.protobuf.Value'
      description: |-
        `Struct` represents a structured data value, consisting of fields
         which map to dynamically typed values. In some languages, `Struct`
         might be supported by a native representation. For example, in
         scripting languages like JS a struct is represented as an
         object. The details of that representation are described together
         with the proto support for the language.

         The JSON representation for `Struct` is JSON object.
    google.protobuf.Struct.FieldsEntry:
      type: object
      properties:
        key:
          type: string
          title: key
        value:
          title: value
          $ref: '#/components/schemas/google.protobuf.Value'
      title: FieldsEntry
      additionalProperties: false
    google.protobuf.Timestamp:
      type: string
      examples:
        - "2023-01-15T01:30:15.01Z"
        - "2024-12-25T12:00:00Z"
      format: date-time
      description: |-
        A Timestamp represents a point in time independent of any time zone or local
         calendar, encoded as a count of seconds and fractions of seconds at
         nanosecond resolution. The count is relative to an epoch at UTC midnight on
         January 1, 1970, in the proleptic Gregorian calendar which extends the
         Gregorian calendar backwards to year one.

         All minutes are 60 seconds long. Leap seconds are "smeared" so that no leap
         second table is needed for interpretation, using a [24-hour linear
         smear](https://developers.google.com/time/smear).

         The range is from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59.999999999Z. By
         restricting to that range, we ensure that we can convert to and from [RFC
         3339](https://www.ietf.org/rfc/rfc3339.txt) date strings.

         # Examples

         Example 1: Compute Timestamp from POSIX `time()`.

             Timestamp timestamp;
             timestamp.set_seconds(time(NULL));
             timestamp.set_nanos(0);

         Example 2: Compute Timestamp from POSIX `gettimeofday()`.

             struct timeval tv;
             gettimeofday(&tv, NULL);

             Timestamp timestamp;
             timestamp.set_seconds(tv.tv_sec);
             timestamp.set_nanos(tv.tv_usec * 1000);

         Example 3: Compute Timestamp from Win32 `GetSystemTimeAsFileTime()`.

             FILETIME ft;
             GetSystemTimeAsFileTime(&ft);
             UINT64 ticks = (((UINT64)ft.dwHighDateTime) << 32) | ft.dwLowDateTime;

             // A Windows tick is 100 nanoseconds. Windows epoch 1601-01-01T00:00:00Z
             // is 11644473600 seconds before Unix epoch 1970-01-01T00:00:00Z.
             Timestamp timestamp;
             timestamp.set_seconds((INT64) ((ticks / 10000000) - 11644473600LL));
             timestamp.set_nanos((INT32) ((ticks % 10000000) * 100));

         Example 4: Compute Timestamp from Java `System.currentTimeMillis()`.

             long millis = System.currentTimeMillis();

             Timestamp timestamp = Timestamp.newBuilder().setSeconds(millis / 1000)
                 .setNanos((int) ((millis % 1000) * 1000000)).build();

         Example 5: Compute Timestamp from Java `Instant.now()`.

             Instant now = Instant.now();

             Timestamp timestamp =
                 Timestamp.newBuilder().setSeconds(now.getEpochSecond())
                     .setNanos(now.getNano()).build();

         Example 6: Compute Timestamp from current time in Python.

             timestamp = Timestamp()
             timestamp.GetCurrentTime()

         # JSON Mapping

         In JSON format, the Timestamp type is encoded as a string in the
         [RFC 3339](https://www.ietf.org/rfc/rfc3339.txt) format. That is, the
         format is "{year}-{month}-{day}T{hour}:{min}:{sec}[.{frac_sec}]Z"
         where {year} is always expressed using four digits while {month}, {day},
         {hour}, {min}, and {sec} are zero-padded to two digits each. The fractional
         seconds, which can go up to 9 digits (i.e. up to 1 nanosecond resolution),
         are optional. The "Z" suffix indicates the timezone ("UTC"); the timezone
         is required. A proto3 JSON serializer should always use UTC (as indicated by
         "Z") when printing the Timestamp type and a proto3 JSON parser should be
         able to accept both UTC and other timezones (as indicated by an offset).

         For example, "2017-01-15T01:30:15.01Z" encodes 15.01 seconds past
         01:30 UTC on January 15, 2017.

         In JavaScript, one can convert a Date object to this format using the
         standard
         [toISOString()](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/toISOString)
         method. In Python, a standard `datetime.datetime` object can be converted
         to this format using
         [`strftime`](https://docs.python.org/2/library/time.html#time.strftime) with
         the time format spec '%Y-%m-%dT%H:%M:%S.%fZ'. Likewise, in Java, one can use
         the Joda Time's [`ISODateTimeFormat.dateTime()`](
         http://joda-time.sourceforge.net/apidocs/org/joda/time/format/ISODateTimeFormat.html#dateTime()
         ) to obtain a formatter capable of generating timestamps in this format.
    google.protobuf.Value:
      oneOf:
        - type: "null"
        - type: number
        - type: string
        - type: boolean
        - type: array
        - type: object
          additionalProperties: true
      description: |-
        `Value` represents a dynamically typed value which can be either
         null, a number, a string, a boolean, a recursive struct value, or a
         list of values. A producer of value is expected to set one of these
         variants. Absence of any variant indicates an error.

         The JSON representation for `Value` is JSON value.
tags:
  - name: sqlrpc.v1.DatabaseService
    description: Database operations including queries and transactions
      buf:lint:ignore RPC_REQUEST_RESPONSE_UNIQUE
       buf:lint:ignore RPC_REQUEST_STANDARD_NAME
       buf:lint:ignore RPC_RESPONSE_STANDARD_NAME --- Stateless Operations ---
  - name: sqlrpc.v1.AdminService
    description: Administrative operations for user management and system configuration
      *
       AdminService provides the control plane for the DBaaS platform.
       This service manages tenant provisioning, user roles, API keys, and cluster
       infrastructure lifecycle. Only platform administrators can access these
       endpoints. --- User Management ---
